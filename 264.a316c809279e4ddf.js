"use strict";(self.webpackChunkWorkoutFormula=self.webpackChunkWorkoutFormula||[]).push([[264],{264:(yo,A,C)=>{C.r(A),C.d(A,{HomeModule:()=>qo});var p=C(95),M=C(157),e=C(5879),J=C(3076),q=C(206),y=C(2436),R=C(2931),f=C(6814);function F(n,l){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Oqu(t)}}const B=function(n,l,t,o){return{"highlighted-date":n,today:l,otherMonth:t,selected:o,day:!0}};function U(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){const i=e.CHM(t),s=i.$implicit,r=i.index,a=e.oxw(2);return e.KtG(a.showWorkout(s.year,s.month,s.date,r))}),e._uU(1),e.qZA()}if(2&n){const t=l.$implicit,o=e.oxw(2);e.Q6J("ngClass",e.l5B(2,B,o.isDateInDb(t.year,t.month,t.date),o.isToday(t),t.otherMonth,t.selected)),e.xp6(1),e.hij(" ",t.date," ")}}function I(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.editWorkout(s.id))}),e.TgZ(1,"div",21),e._uU(2),e.qZA(),e.TgZ(3,"div",22),e._uU(4,"\uf054"),e.qZA(),e.TgZ(5,"div",23),e._uU(6),e.ALo(7,"date"),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(4),e.Oqu(e.xi3(7,2,t.date,"fullDate"))}}function Q(n,l){if(1&n&&(e.TgZ(0,"div",18),e.YNc(1,I,8,5,"div",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.selectedWorkout)}}const D=function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};function E(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._uU(3,"Workout Schedule"),e.qZA(),e.TgZ(4,"div",4),e._uU(5," i "),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.prevMonth())}),e._UZ(8,"i",7),e.qZA(),e.TgZ(9,"div",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.test())}),e._uU(10),e.qZA(),e.TgZ(11,"div",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.nextMonth())}),e._UZ(12,"i",10),e.qZA()(),e.TgZ(13,"div",11),e.YNc(14,F,2,1,"div",12),e.qZA(),e.TgZ(15,"div",13),e.YNc(16,U,2,7,"div",14),e.qZA(),e.YNc(17,Q,2,1,"div",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(10),e.hij(" ",t.getMonthAndYear()," "),e.xp6(4),e.Q6J("ngForOf",e.DdM(4,D)),e.xp6(2),e.Q6J("ngForOf",t.days),e.xp6(1),e.Q6J("ngIf",t.selectedWorkout.length>0)}}let H=(()=>{var n;class l{constructor(o,i){this.userService=o,this.routineService=i,this.selectedWorkout=[],this.workouts=[],this.days=[],this.today=new Date,this.datesFromDb=[],this.upcommingWorkouts=[];const s=new Date;this.month=s.getMonth(),this.year=s.getFullYear(),this.updateDays()}ngOnInit(){this.userService.currentUser.subscribe(o=>{this.userSettings=o,!o.stillCreatingRoutine&&o.routineId&&(this.routineService.getCurrentProgram(this.userSettings.routineId),this.getCalendarWorkouts())})}test(){}getCalendarWorkouts(){this.routineService.calendarWorkouts.subscribe(o=>{if(this.workouts=o,o){this.datesFromDb=o.map(a=>new Date(a.date)),this.workouts.filter(a=>!1===a.completed);let s=new Date;s.setHours(0,0,0,0),this.datesFromDb.findIndex(a=>(a.setHours(0,0,0,0),a.getTime()===s.getTime()))}})}showWorkout(o,i,s,r){this.currentSelectedIndex?(this.days[this.currentSelectedIndex].selected=!1,this.days[r].selected=!0):this.days[r].selected=!0,this.currentSelectedIndex=r;const a=new Date(o,i,s);a.setHours(0,0,0,0);let c=this.datesFromDb.findIndex(u=>(u.setHours(0,0,0,0),u.getTime()===a.getTime()));(c||0==c)&&this.selectedWorkout.splice(0,1,this.workouts[c]),-1==c&&(this.selectedWorkout=[])}editWorkout(o){}onCreateNew(o){}updateDays(){const o=new Date(this.year,this.month,1).getDay(),i=new Date(this.year,this.month+1,0).getDate(),s=new Date(this.year,this.month,0).getDate();this.days=[];for(let c=0;c<o;c++)this.days.push({date:s-o+c+1,month:0===this.month?11:this.month-1,year:0===this.month?this.year-1:this.year,row:0,col:c,otherMonth:!0,selected:!1});for(let c=0;c<i;c++)this.days.push({date:c+1,month:this.month,year:this.year,row:Math.floor((o+c)/7),col:(o+c)%7,otherMonth:!1,selected:!1});let a=1;for(let c=this.days[this.days.length-1].col+1;c<7;c++)this.days.push({date:a++,month:11===this.month?0:this.month+1,year:11===this.month?this.year+1:this.year,row:this.days[this.days.length-1].row,col:c,otherMonth:!0,selected:!1})}nextMonth(){this.month++,this.month>11&&(this.month=0,this.year++),this.updateDays()}prevMonth(){this.month--,this.month<0&&(this.month=11,this.year--),this.updateDays()}getMonthAndYear(){return`${["January","February","March","April","May","June","July","August","September","October","November","December"][this.month]} ${this.year}`}isToday(o){return o.date===this.today.getDate()&&o.month===this.today.getMonth()&&o.year===this.today.getFullYear()}isDateInDb(o,i,s){if(this.datesFromDb){let r=new Date;const a=new Date(o,i,s),c=Date.UTC(o,i,s);return(a.getFullYear()!==r.getFullYear()||a.getMonth()!==r.getMonth()||a.getDate()!==r.getDate())&&this.datesFromDb.map(g=>Date.UTC(g.getFullYear(),g.getMonth(),g.getDate())).includes(c)}return!1}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(J.K),e.Y36(R.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-routine-check"]],decls:1,vars:1,consts:[["class","block-grid","style","padding: 10px; margin-top: 10px;",4,"ngIf"],[1,"block-grid",2,"padding","10px","margin-top","10px"],[2,"display","grid","grid-template-rows","1fr","grid-template-columns","1fr 50px"],[1,"heading",2,"grid-row","1","grid-column","1"],[1,"heading-circle",2,"grid-row","1","grid-column","2","display","flex","align-items","center","justify-content","center"],[2,"display","grid","grid-template-rows","1fr 1fr","grid-template-columns","150px 1fr 150px"],[2,"grid-row","1","grid-column","1","display","flex","align-items","center","justify-content","center","font-size","25px",3,"click"],[1,"fas","fa-arrow-left"],[1,"h2",2,"grid-row","1","grid-column","2","display","flex","align-items","center","justify-content","center",3,"click"],[2,"grid-row","1","grid-column","3","display","flex","align-items","center","justify-content","center","font-size","25px",3,"click"],[1,"fas","fa-arrow-right"],[1,"header-row",2,"display","grid","grid-template-columns","repeat(7, 1fr)"],["class","header-cal",4,"ngFor","ngForOf"],[2,"display","grid","grid-template-columns","repeat(7, 1fr)"],["class","day",3,"ngClass","click",4,"ngFor","ngForOf"],["class","selected-workouts",4,"ngIf"],[1,"header-cal"],[1,"day",3,"ngClass","click"],[1,"selected-workouts"],["class","workout-entry",3,"click",4,"ngFor","ngForOf"],[1,"workout-entry",3,"click"],[1,"workout-name"],[1,"edit-icon","fas"],[1,"workout-date"]],template:function(o,i){1&o&&e.YNc(0,E,18,5,"div",0),2&o&&e.Q6J("ngIf",i.datesFromDb)},dependencies:[f.mk,f.sg,f.O5,f.uU]}),l})();var P=C(3899),O=C(7700);function Y(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(2);return e.KtG(s.onHideMultiplier(i))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.show?"Hide":"Show")}}function G(n,l){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18),e._uU(2),e.qZA(),e.TgZ(3,"div",19),e._uU(4),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.AsE("",t.repRanges.start," Reps - ",t.repRanges.finish," Reps")}}function K(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(),o=t.index,i=t.$implicit;e.xp6(1),e.AsE("Set ",o+1,": ",i," Reps")}}function L(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().index;e.xp6(1),e.hij("Set ",t+1,": -")}}function $(n,l){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,K,2,2,"span",29),e.YNc(2,L,2,1,"span",29),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function j(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(),o=t.index,i=t.$implicit,s=e.oxw(5);e.xp6(1),e.lnq("Set ",o+1,": ",i," ",s.userSettings.kgs?"Kgs":"lbs","")}}function V(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().index;e.xp6(1),e.hij("Set ",t+1,": -")}}function z(n,l){if(1&n&&(e.TgZ(0,"div",30),e.YNc(1,j,2,3,"span",29),e.YNc(2,V,2,1,"span",29),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function X(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(),o=t.index,i=t.$implicit;e.xp6(1),e.AsE("Set ",o+1,": ",i," %")}}function ee(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().index;e.xp6(1),e.hij("Set ",t+1,": -")}}function te(n,l){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,X,2,2,"span",29),e.YNc(2,ee,2,1,"span",29),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function oe(n,l){if(1&n&&(e.TgZ(0,"div",20)(1,"div",18),e._uU(2),e.qZA(),e.TgZ(3,"div",8)(4,"div",21)(5,"div",22),e._uU(6,"Reps"),e.qZA(),e.YNc(7,$,3,2,"div",23),e.qZA(),e.TgZ(8,"div",24)(9,"div",22),e._uU(10,"Weight"),e.qZA(),e.YNc(11,z,3,2,"div",25),e.qZA(),e.TgZ(12,"div",26)(13,"div",22),e._uU(14,"One Rep Max %"),e.qZA(),e.YNc(15,te,3,2,"div",27),e.qZA()(),e._UZ(16,"div",11),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(5),e.Q6J("ngForOf",t.reps),e.xp6(4),e.Q6J("ngForOf",t.weights),e.xp6(4),e.Q6J("ngForOf",t.oneRms)}}function ie(n,l){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,G,5,3,"div",15),e.YNc(2,oe,17,4,"div",16),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.topSet),e.xp6(1),e.Q6J("ngForOf",t.setMultipliers)}}const ne=function(n){return[n]};function se(n,l){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e._uU(3),e.qZA(),e.YNc(4,Y,2,1,"button",10),e.qZA(),e._UZ(5,"div",11),e.YNc(6,ie,3,2,"div",12),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Q6J("ngClass",e.VKq(4,ne,t.setMultipliers.length>0||t.topSet.length>0?"green-background":"red-background")),e.xp6(1),e.Oqu(t.type),e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(2),e.Q6J("ngIf",t.show)}}function re(n,l){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,se,7,6,"div",6),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.multipliers)}}let le=(()=>{var n;class l{constructor(o,i,s){this.userService=o,this.dialogRef=i,this.data=s}ngOnInit(){this.userService.currentUser.subscribe(o=>this.userSettings=o),this.multipliers=this.data.multipliers}onHideMultiplier(o){this.multipliers[o].show=!this.multipliers[o].show}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(J.K),e.Y36(O.so),e.Y36(O.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-multiplier-info"]],decls:6,vars:2,consts:[[2,"padding","10px"],[1,"row"],[1,"col-sm-12"],["mat-button","",1,"button",3,"mat-dialog-close"],["class","ng-container",4,"ngIf"],[1,"ng-container"],["class","multiplier",4,"ngFor","ngForOf"],[1,"multiplier"],[1,"grid-container"],[1,"heading-1",3,"ngClass"],["class","button-1",3,"click",4,"ngIf"],[1,"hr-light-half"],["class","multiplier-details",4,"ngIf"],[1,"button-1",3,"click"],[1,"multiplier-details"],["class","top-set",4,"ngFor","ngForOf"],["class","set-multiplier",4,"ngFor","ngForOf"],[1,"top-set"],[1,"heading-1"],[1,"h3"],[1,"set-multiplier"],[1,"reps-column"],[1,"label-bold"],["class","rep",4,"ngFor","ngForOf"],[1,"weight-column"],["class","weight",4,"ngFor","ngForOf"],[1,"one-rep-max-column"],["class","one-rep-max",4,"ngFor","ngForOf"],[1,"rep"],[4,"ngIf"],[1,"weight"],[1,"one-rep-max"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e._uU(4,"Close"),e.qZA()(),e.YNc(5,re,2,1,"div",4),e.qZA()()),2&o&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("ngIf",i.multipliers))},dependencies:[f.mk,f.sg,f.O5,O.ZT],encapsulation:2}),l})();const ce=["CB1"],ae=["CB2"],_e=["CB3"],de=["CB4"],pe=["CB5"],ue=["CB6"];function ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSubmit())}),e._uU(1,"Save"),e.qZA()}}function me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onPreview())}),e._uU(1,"Preview"),e.qZA()}}function he(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18),e._uU(2),e.qZA(),e.TgZ(3,"div",19),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.decreaseWeight("oneRm",s))}),e._uU(4,"-"),e.qZA(),e.TgZ(5,"div",20),e._uU(6),e.qZA(),e.TgZ(7,"div",21),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.increaseWeight("oneRm",s))}),e._uU(8,"+"),e.qZA()()}if(2&n){const t=l.$implicit,o=l.index;e.xp6(2),e.hij("Set ",o+1,""),e.xp6(4),e.hij("",t," % of one rep max")}}function ve(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18),e._uU(2),e.qZA(),e.TgZ(3,"div",19),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.decreaseReps("oneRm",s))}),e._uU(4,"-"),e.qZA(),e.TgZ(5,"div",22)(6,"span",18),e._uU(7),e.qZA(),e.TgZ(8,"span",18),e._uU(9,"Reps to current set"),e.qZA()(),e.TgZ(10,"div",21),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.increaseReps("oneRm",s))}),e._uU(11,"+"),e.qZA()()}if(2&n){const t=l.$implicit,o=l.index;e.xp6(2),e.hij("Set ",o+1,""),e.xp6(5),e.hij("",t," ")}}function xe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addSet())}),e._uU(2,"Add Set"),e.qZA(),e.TgZ(3,"div",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeSet())}),e._uU(4,"Delete Set"),e.qZA(),e.TgZ(5,"div",11),e._uU(6,"Need one rep max weight?"),e.qZA(),e.TgZ(7,"div",11),e._uU(8,"Weight Change By Percentage Of One Rep Max"),e.qZA(),e.YNc(9,he,9,2,"div",16),e.TgZ(10,"div",11),e._uU(11,"Reps Change"),e.qZA(),e.YNc(12,ve,12,2,"div",16),e.qZA()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngForOf",t.deloadJSON.oneRM.setMultipliers.oneRms),e.xp6(3),e.Q6J("ngForOf",t.deloadJSON.oneRM.setMultipliers.reps)}}function fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"h3",18),e._uU(2),e.qZA(),e.TgZ(3,"button",19),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.decreaseWeight("oneRm",s))}),e._uU(4,"-"),e.qZA(),e.TgZ(5,"h3",18),e._uU(6),e.qZA(),e.TgZ(7,"button",21),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.increaseWeight("oneRm",s))}),e._uU(8,"+"),e.qZA()()}if(2&n){const t=l.$implicit,o=l.index;e.xp6(2),e.hij("Set ",o+1,""),e.xp6(4),e.hij("",t," % of one rep max")}}function ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"h3",18),e._uU(2),e.qZA(),e.TgZ(3,"button",19),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.decreaseReps("oneRm",s))}),e._uU(4,"-"),e.qZA(),e.TgZ(5,"div",26)(6,"span",18),e._uU(7),e.qZA(),e.TgZ(8,"span",18),e._uU(9,"Reps to current set"),e.qZA()(),e.TgZ(10,"button",21),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.increaseReps("oneRm",s))}),e._uU(11,"+"),e.qZA()()}if(2&n){const t=l.$implicit,o=l.index;e.xp6(2),e.hij("Set ",o+1,""),e.xp6(5),e.hij("",t," ")}}function we(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",23)(2,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addSet())}),e._uU(3,"Add Set"),e.qZA(),e.TgZ(4,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeSet())}),e._uU(5,"Delete Set"),e.qZA()(),e.TgZ(6,"h2",11),e._uU(7,"Need one rep max weight?"),e.qZA(),e.TgZ(8,"h2",11),e._uU(9,"Weight Change By Percentage Of One Rep Max"),e.qZA(),e.YNc(10,fe,9,2,"div",25),e.TgZ(11,"h2",11),e._uU(12,"Reps Change"),e.qZA(),e.YNc(13,ke,12,2,"div",25),e.qZA()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngForOf",t.deloadJSON.oneRM.setMultipliers.oneRms),e.xp6(3),e.Q6J("ngForOf",t.deloadJSON.oneRM.setMultipliers.reps)}}function Ne(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Reps Change By Percentage"),e.qZA(),e.TgZ(3,"div",26)(4,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.decreaseReps("blockRepsPerct"))}),e._uU(5,"-"),e.qZA(),e.TgZ(6,"div",26)(7,"span",18),e._uU(8),e.qZA(),e.TgZ(9,"span",18),e._uU(10,"% of current reps"),e.qZA()(),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.increaseReps("blockRepsPerct"))}),e._uU(12,"+"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("disabled",t.deloadJSON.block.repsPerct<1),e.xp6(4),e.hij("",t.deloadJSON.block.repsPerct," "),e.xp6(3),e.Q6J("disabled",t.deloadJSON.block.repsPerct>99)}}function be(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Reps Change By Number"),e.qZA(),e.TgZ(3,"div",26)(4,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.decreaseReps("blockRepsNumber"))}),e.qZA(),e.TgZ(5,"div",26)(6,"span",18),e._uU(7),e.qZA(),e.TgZ(8,"span",18),e._uU(9,"Reps from each set"),e.qZA()(),e.TgZ(10,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.increaseReps("blockRepsNumber"))}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.hij("",t.deloadJSON.block.reps," ")}}function Ce(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Choose block weeks workouts"),e.qZA(),e.TgZ(3,"div",26)(4,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.decreaseWeeks("block"))}),e._uU(5,"-"),e.qZA(),e.TgZ(6,"div",26)(7,"span",18),e._uU(8,"Week "),e.qZA(),e.TgZ(9,"span",18),e._uU(10),e.qZA()(),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.increaseWeeks("block"))}),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"h2",11),e._uU(14,"Weight Change By Percentage"),e.qZA(),e.TgZ(15,"div",26)(16,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.decreaseWeight("block"))}),e._uU(17,"-"),e.qZA(),e.TgZ(18,"div",26)(19,"span",18),e._uU(20),e.qZA(),e.TgZ(21,"span",18),e._uU(22,"% of current weight"),e.qZA()(),e.TgZ(23,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.increaseWeight("block"))}),e._uU(24,"+"),e.qZA()(),e.YNc(25,Ne,13,3,"div",12),e.YNc(26,be,11,1,"div",12),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("disabled",t.deloadJSON.block.week<2),e.xp6(6),e.Oqu(t.deloadJSON.block.week),e.xp6(1),e.Q6J("disabled",t.deloadJSON.block.week>t.programWeeks-1),e.xp6(5),e.Q6J("disabled",t.deloadJSON.block.weightPerct<1),e.xp6(4),e.hij("",t.deloadJSON.block.weightPerct," "),e.xp6(3),e.Q6J("disabled",t.deloadJSON.block.weightPerct>99),e.xp6(2),e.Q6J("ngIf",t.deloadJSON.block.repsPerctBool),e.xp6(1),e.Q6J("ngIf",t.deloadJSON.block.repsNumberBool)}}function Oe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Reps Change By Percentage"),e.qZA(),e.TgZ(3,"div",26)(4,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.decreaseReps("mesoRepsPerct"))}),e._uU(5,"-"),e.qZA(),e.TgZ(6,"div",26)(7,"span",18),e._uU(8),e.qZA(),e.TgZ(9,"span",18),e._uU(10,"% of current reps"),e.qZA()(),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.increaseReps("mesoRepsPerct"))}),e._uU(12,"+"),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("disabled",t.deloadJSON.meso.repsPerct<1),e.xp6(4),e.hij("",t.deloadJSON.meso.repsPerct," "),e.xp6(3),e.Q6J("disabled",t.deloadJSON.meso.repsPerct>99)}}function Te(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Reps Change By Number"),e.qZA(),e.TgZ(3,"div",26)(4,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.decreaseReps("mesoRepsNumber"))}),e.qZA(),e.TgZ(5,"div",26)(6,"span",18),e._uU(7),e.qZA(),e.TgZ(8,"span",18),e._uU(9,"Reps from each set"),e.qZA()(),e.TgZ(10,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.increaseReps("mesoRepsNumber"))}),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(7),e.hij("",t.deloadJSON.meso.reps," ")}}function Ze(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Choose mesocycle weeks workouts"),e.qZA(),e.TgZ(3,"div",26)(4,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.decreaseWeeks("meso"))}),e._uU(5,"-"),e.qZA(),e.TgZ(6,"div",26)(7,"span",18),e._uU(8,"Week "),e.qZA(),e.TgZ(9,"span",18),e._uU(10),e.qZA()(),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.increaseWeeks("meso"))}),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"h2",11),e._uU(14,"Weight Change By Percentage"),e.qZA(),e.TgZ(15,"div",26)(16,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.decreaseWeight("meso"))}),e._uU(17,"-"),e.qZA(),e.TgZ(18,"div",26)(19,"span",18),e._uU(20),e.qZA(),e.TgZ(21,"span",18),e._uU(22,"% of current weight"),e.qZA()(),e.TgZ(23,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.increaseWeight("meso"))}),e._uU(24,"+"),e.qZA()(),e.YNc(25,Oe,13,3,"div",12),e.YNc(26,Te,11,1,"div",12),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("disabled",t.deloadJSON.meso.week<2),e.xp6(6),e.Oqu(t.deloadJSON.meso.week),e.xp6(1),e.Q6J("disabled",t.deloadJSON.meso.week>t.programWeeks-1),e.xp6(5),e.Q6J("disabled",t.deloadJSON.meso.weightPerct<1),e.xp6(4),e.hij("",t.deloadJSON.meso.weightPerct," "),e.xp6(3),e.Q6J("disabled",t.deloadJSON.meso.weightPerct>99),e.xp6(2),e.Q6J("ngIf",t.deloadJSON.meso.repsPerctBool),e.xp6(1),e.Q6J("ngIf",t.deloadJSON.meso.repsNumberBool)}}function Je(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Reps Change By Percentage"),e.qZA(),e.TgZ(3,"div",26)(4,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.decreaseReps("mesoRepsPerct"))}),e._uU(5,"-"),e.qZA(),e.TgZ(6,"div",26)(7,"span",18),e._uU(8),e.qZA(),e.TgZ(9,"span",18),e._uU(10,"% of current reps"),e.qZA()(),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.increaseReps("mesoRepsPerct"))}),e._uU(12,"+"),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("disabled",t.deloadJSON.meso.repsPerct<1),e.xp6(4),e.hij("",t.deloadJSON.meso.repsPerct," "),e.xp6(3),e.Q6J("disabled",t.deloadJSON.meso.repsPerct>99)}}function Me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Reps Change By Number"),e.qZA(),e.TgZ(3,"div",26)(4,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.decreaseReps("mesoRepsNumber"))}),e.qZA(),e.TgZ(5,"div",26)(6,"span",18),e._uU(7),e.qZA(),e.TgZ(8,"span",18),e._uU(9,"Reps from each set"),e.qZA()(),e.TgZ(10,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.increaseReps("mesoRepsNumber"))}),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(7),e.hij("",t.deloadJSON.meso.reps," ")}}function Re(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",11),e._uU(2,"Choose mesocycle"),e.qZA(),e.TgZ(3,"div",26)(4,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.decreaseMeso("meso"))}),e._uU(5,"-"),e.qZA(),e.TgZ(6,"div",26)(7,"span",18),e._uU(8,"Mesocycle "),e.qZA(),e.TgZ(9,"span",18),e._uU(10),e.qZA()(),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.incraseMeso("meso"))}),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"h2",11),e._uU(14,"Choose mesocycle weeks workouts"),e.qZA(),e.TgZ(15,"div",26)(16,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.decreaseWeeks("meso"))}),e._uU(17,"-"),e.qZA(),e.TgZ(18,"div",26)(19,"span",18),e._uU(20,"Week "),e.qZA(),e.TgZ(21,"span",18),e._uU(22),e.qZA()(),e.TgZ(23,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.increaseWeeks("meso"))}),e._uU(24,"+"),e.qZA()(),e.TgZ(25,"h2",11),e._uU(26,"Weight Change By Percentage"),e.qZA(),e.TgZ(27,"div",26)(28,"button",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.decreaseWeight("meso"))}),e._uU(29,"-"),e.qZA(),e.TgZ(30,"div",26)(31,"span",18),e._uU(32),e.qZA(),e.TgZ(33,"span",18),e._uU(34,"% of current weight"),e.qZA()(),e.TgZ(35,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.increaseWeight("meso"))}),e._uU(36,"+"),e.qZA()(),e.YNc(37,Je,13,3,"div",12),e.YNc(38,Me,11,1,"div",12),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("disabled",t.deloadJSON.meso.mesocycle<2),e.xp6(6),e.Oqu(t.deloadJSON.meso.mesocycle),e.xp6(1),e.Q6J("disabled",t.deloadJSON.meso.mesocycle>t.programMesos-1),e.xp6(5),e.Q6J("disabled",t.deloadJSON.meso.week<2),e.xp6(6),e.Oqu(t.deloadJSON.meso.week),e.xp6(1),e.Q6J("disabled",t.deloadJSON.meso.week>t.programWeeks-1),e.xp6(5),e.Q6J("disabled",t.deloadJSON.meso.weightPerct<1),e.xp6(4),e.hij("",t.deloadJSON.meso.weightPerct," "),e.xp6(3),e.Q6J("disabled",t.deloadJSON.meso.weightPerct>99),e.xp6(2),e.Q6J("ngIf",t.deloadJSON.meso.repsPerctBool),e.xp6(1),e.Q6J("ngIf",t.deloadJSON.meso.repsNumberBool)}}function Se(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ze,27,8,"div",12),e.YNc(2,Re,39,11,"div",12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.deloadJSON.meso.currentMeso),e.xp6(1),e.Q6J("ngIf",t.deloadJSON.meso.otherMeso)}}let We=(()=>{var n;class l{constructor(o,i,s,r){this.userService=o,this.routineService=i,this.dialogRef=s,this.data=r}ngOnInit(){this.userService.currentUser.subscribe(o=>this.userSettings=o),this.deloadJSON=this.data.deloadJSON,this.programWeeks=this.data.programWeeks,this.programMesos=this.data.programMesos,this.runMeso=this.data.runMeso,this.includeDeloadWeek=this.data.includeDeloadWeek,this.oneRm=this.data.oneRm,this.preview=this.data.preview,this.oneRm&&(this.deloadJSON.showOneRm=!0),this.runMeso&&(this.deloadJSON.showMeso=!0),this.runMeso||(this.deloadJSON.showBlock=!0)}onSubmit(){this.deloadJSON.block.repsNumberBool&&(this.deloadJSON.block.repsNumberBoolCheckBox=!0,this.deloadJSON.block.repsPerctBoolCheckBox=!1),this.deloadJSON.block.repsPerctBool&&(this.deloadJSON.block.repsNumberBoolCheckBox=!1,this.deloadJSON.block.repsPerctBoolCheckBox=!0),this.deloadJSON.meso.repsNumberBool&&(this.deloadJSON.meso.repsNumberBoolCheckBox=!0,this.deloadJSON.meso.repsPerctBoolCheckBox=!1),this.deloadJSON.meso.repsPerctBool&&(this.deloadJSON.meso.repsNumberBoolCheckBox=!1,this.deloadJSON.meso.repsPerctBoolCheckBox=!0),this.deloadJSON.meso.currentMeso&&(this.deloadJSON.meso.currentCheckBox=!0,this.deloadJSON.meso.otherCheckBox=!1),this.deloadJSON.meso.otherMeso&&(this.deloadJSON.meso.currentCheckBox=!1,this.deloadJSON.meso.otherCheckBox=!0);var o=JSON.stringify(this.deloadJSON);this.routineService.setProgramsDeloadWeekJSON(o)}onPreview(){this.deloadJSON.block.repsNumberBool&&(this.deloadJSON.block.repsNumberBoolCheckBox=!0,this.deloadJSON.block.repsPerctBoolCheckBox=!1),this.deloadJSON.block.repsPerctBool&&(this.deloadJSON.block.repsNumberBoolCheckBox=!1,this.deloadJSON.block.repsPerctBoolCheckBox=!0),this.deloadJSON.meso.repsNumberBool&&(this.deloadJSON.meso.repsNumberBoolCheckBox=!0,this.deloadJSON.meso.repsPerctBoolCheckBox=!1),this.deloadJSON.meso.repsPerctBool&&(this.deloadJSON.meso.repsNumberBoolCheckBox=!1,this.deloadJSON.meso.repsPerctBoolCheckBox=!0),this.deloadJSON.meso.currentMeso&&(this.deloadJSON.meso.currentCheckBox=!0,this.deloadJSON.meso.otherCheckBox=!1),this.deloadJSON.meso.otherMeso&&(this.deloadJSON.meso.currentCheckBox=!1,this.deloadJSON.meso.otherCheckBox=!0);var o=JSON.stringify(this.deloadJSON);this.routineService.setProgramsDeloadWeekJSON(o)}increaseWeight(o,i){"oneRm"==o&&(this.deloadJSON.oneRM.setMultipliers.oneRms[i]=this.deloadJSON.oneRM.setMultipliers.oneRms[i]+5),"block"==o&&(this.deloadJSON.block.weightPerct=this.deloadJSON.block.weightPerct+5),"meso"==o&&(this.deloadJSON.meso.weightPerct=this.deloadJSON.meso.weightPerct+5)}decreaseWeight(o,i){"oneRm"==o&&(this.deloadJSON.oneRM.setMultipliers.oneRms[i]=this.deloadJSON.oneRM.setMultipliers.oneRms[i]-5),"block"==o&&(this.deloadJSON.block.weightPerct=this.deloadJSON.block.weightPerct-5),"meso"==o&&(this.deloadJSON.meso.weightPerct=this.deloadJSON.meso.weightPerct-5)}increaseReps(o,i){"oneRm"==o&&(this.deloadJSON.oneRM.setMultipliers.reps[i]=this.deloadJSON.oneRM.setMultipliers.reps[i]+1),"blockRepsPerct"==o&&(this.deloadJSON.block.repsPerct=this.deloadJSON.block.repsPerct+5),"blockRepsNumber"==o&&(this.deloadJSON.block.reps=this.deloadJSON.block.reps+1),"mesoRepsPerct"==o&&(this.deloadJSON.meso.repsPerct=this.deloadJSON.meso.repsPerct+5),"mesoRepsNumber"==o&&(this.deloadJSON.meso.reps=this.deloadJSON.meso.reps+1)}decreaseReps(o,i){"oneRm"==o&&(this.deloadJSON.oneRM.setMultipliers.reps[i]=this.deloadJSON.oneRM.setMultipliers.reps[i]-1),"blockRepsPerct"==o&&(this.deloadJSON.block.repsPerct=this.deloadJSON.block.repsPerct-5),"blockRepsNumber"==o&&(this.deloadJSON.block.reps=this.deloadJSON.block.reps-1),"mesoRepsPerct"==o&&(this.deloadJSON.meso.repsPerct=this.deloadJSON.meso.repsPerct-5),"mesoRepsNumber"==o&&(this.deloadJSON.meso.reps=this.deloadJSON.meso.reps-1)}decreaseWeeks(o){"block"==o&&(this.deloadJSON.block.week=this.deloadJSON.block.week-1),"meso"==o&&(this.deloadJSON.meso.week=this.deloadJSON.meso.week-1)}increaseWeeks(o){"block"==o&&(this.deloadJSON.block.week=this.deloadJSON.block.week+1),"meso"==o&&(this.deloadJSON.meso.week=this.deloadJSON.meso.week+1)}decreaseMeso(o){"meso"==o&&(this.deloadJSON.meso.mesocycle=this.deloadJSON.meso.mesocycle-1)}incraseMeso(o){"meso"==o&&(this.deloadJSON.meso.mesocycle=this.deloadJSON.meso.mesocycle+1)}addSet(){this.deloadJSON.oneRM.setMultipliers.oneRms.push(0),this.deloadJSON.oneRM.setMultipliers.reps.push(0)}removeSet(){this.deloadJSON.oneRM.setMultipliers.oneRms.pop(),this.deloadJSON.oneRM.setMultipliers.reps.pop()}blockReps(o){"perct"==o&&(this.deloadJSON.block.repsPerctBool=!0,this.deloadJSON.block.repsNumberBool=!1,this.deloadJSON.block.repsNumberBoolCheckBox=!1),"number"==o&&(this.deloadJSON.block.repsPerctBool=!1,this.deloadJSON.block.repsNumberBool=!0,this.deloadJSON.block.repsPerctBoolCheckBox=!1)}mesoReps(o){"perct"==o&&(this.deloadJSON.meso.repsPerctBool=!0,this.deloadJSON.meso.repsNumberBool=!1,this.deloadJSON.meso.repsNumberBoolCheckBox=!1),"number"==o&&(this.deloadJSON.meso.repsPerctBool=!1,this.deloadJSON.meso.repsNumberBool=!0,this.deloadJSON.meso.repsPerctBoolCheckBox=!1)}mesoWorkouts(o){"current"==o&&(this.deloadJSON.meso.currentMeso=!0,this.deloadJSON.meso.otherMeso=!1,this.deloadJSON.meso.otherCheckBox=!1),"other"==o&&(this.deloadJSON.meso.currentMeso=!1,this.deloadJSON.meso.otherMeso=!0,this.deloadJSON.meso.currentCheckBox=!1)}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(J.K),e.Y36(R.p),e.Y36(O.so),e.Y36(O.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-deload-week-modal"]],viewQuery:function(o,i){if(1&o&&(e.Gf(ce,5),e.Gf(ae,5),e.Gf(_e,5),e.Gf(de,5),e.Gf(pe,5),e.Gf(ue,5)),2&o){let s;e.iGM(s=e.CRH())&&(i.FirstCheckBox=s.first),e.iGM(s=e.CRH())&&(i.SecondCheckBox=s.first),e.iGM(s=e.CRH())&&(i.ThirdCheckBox=s.first),e.iGM(s=e.CRH())&&(i.FourthCheckBox=s.first),e.iGM(s=e.CRH())&&(i.FithCheckBox=s.first),e.iGM(s=e.CRH())&&(i.SixthCheckBox=s.first)}},decls:32,vars:7,consts:[[2,"padding","10px"],[1,"row"],[1,"col-sm-12"],["mat-button","",1,"button",3,"mat-dialog-close"],[1,"page"],[1,"block-grid",2,"grid-template-rows","auto auto auto","grid-template-columns","auto auto"],[1,"h1",2,"grid-row","1","grid-column","1 / span 2"],[1,"highlight-grid",2,"grid-row","2","grid-column","1 / span 2"],[1,"heading-1-text"],["class","button","style","grid-row: 3; grid-column: 1;",3,"click",4,"ngIf"],[1,"block-grid"],[1,"heading-2-text"],[4,"ngIf"],[1,"button",2,"grid-row","3","grid-column","1",3,"click"],[1,"mid",2,"grid-column","1","grid-column-end","span 1",3,"click"],[1,"mid",2,"grid-column","2","grid-column-end","span 1",3,"click"],["style","display: flex; flex-direction: row;",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","row"],[1,"h3"],[1,"left",3,"click"],[1,"h3",2,"text-align","center"],[1,"right",3,"click"],[2,"text-align","center"],[1,"grid-layout",2,"display","grid","grid-template-columns","auto auto"],[1,"mid",3,"click"],["class","horizontal-layout",4,"ngFor","ngForOf"],[1,"horizontal-layout"],[1,"left",3,"disabled","click"],[1,"right",3,"disabled","click"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e._uU(4,"Close"),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e._uU(8,"Deload Week Rules"),e.qZA(),e.TgZ(9,"div",7)(10,"div",8),e._uU(11,"Options for when you run your deload weeks"),e.qZA()(),e.YNc(12,ge,2,0,"button",9),e.YNc(13,me,2,0,"button",9),e.qZA(),e._UZ(14,"div",10),e.TgZ(15,"div",10)(16,"div",11),e._uU(17,"One Rep Max Deload Week"),e.qZA(),e.YNc(18,xe,13,2,"div",12),e.qZA(),e._UZ(19,"div",10),e.TgZ(20,"div",10)(21,"h2",11),e._uU(22,"One Rep Max Deload Week"),e.qZA(),e.YNc(23,we,14,2,"div",12),e.qZA(),e.TgZ(24,"div",10)(25,"h2",11),e._uU(26,"Program Run By Blocks"),e.qZA(),e.YNc(27,Ce,27,8,"div",12),e.qZA(),e.TgZ(28,"div",10)(29,"h2",11),e._uU(30,"Program Run by Mesocyles During Block"),e.qZA(),e.YNc(31,Se,3,2,"div",12),e.qZA()()()()()),2&o&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(9),e.Q6J("ngIf",!i.preview),e.xp6(1),e.Q6J("ngIf",i.preview),e.xp6(5),e.Q6J("ngIf",i.deloadJSON.showOneRm),e.xp6(5),e.Q6J("ngIf",i.deloadJSON.showOneRm),e.xp6(4),e.Q6J("ngIf",i.deloadJSON.showBlock),e.xp6(4),e.Q6J("ngIf",i.deloadJSON.showMeso))},dependencies:[f.sg,f.O5,O.ZT],encapsulation:2}),l})();function Ae(n,l){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2,"Choose your starting date"),e.qZA(),e._UZ(3,"div",15)(4,"input",16),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("min",t.minDate)("max",t.maxDate)}}function qe(n,l){1&n&&(e.TgZ(0,"div",31),e._uU(1,"One Rep Max Exercise"),e.qZA())}function ye(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.showOptions(i))}),e._uU(1,"Show Options"),e.qZA()}}function Fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.hideOptions(i))}),e._uU(1,"Hide Options"),e.qZA()}}function Be(n,l){1&n&&(e.TgZ(0,"div",37),e._uU(1,"Increase All Weight By:"),e.qZA())}function Ue(n,l){1&n&&(e.TgZ(0,"div",37),e._uU(1,"Increase Current One Rep Max Weight By:"),e.qZA())}function Ie(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setWeight("other",i))}),e._uU(1,"Other"),e.qZA()}}const N=function(n,l){return{"button-selected":n,"button-not-selected":l}};function Qe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).index,s=e.oxw();return e.KtG(s.showfindNewOneRmOptions(i))}),e._uU(1,"Find new One Rep Max"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",e.WLB(1,N,!0===t.get("setOptions.oneRmOptions").value,!0!==t.get("setOptions.oneRmOptions").value))}}function De(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).index,s=e.oxw();return e.KtG(s.setReps("other",i))}),e._uU(1,"Other"),e.qZA()}}function Ee(n,l){1&n&&(e.TgZ(0,"label",37),e._uU(1,"Set Options"),e.qZA())}function He(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).index,s=e.oxw();return e.KtG(s.enterNewOneRm(i))}),e._uU(2,"Enter New One Rep Max"),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).index,s=e.oxw();return e.KtG(s.findNewOneRm(i))}),e._uU(4,"Find New One Rep Max"),e.qZA()()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(1),e.ekj("button-selected",!0===t.get("setOptions.enterOneRm").value),e.xp6(2),e.ekj("button-selected",!0===t.get("setOptions.findOneRm").value)}}function Pe(n,l){if(1&n&&(e.TgZ(0,"div",13)(1,"label",42),e._uU(2,"Enter New One Rep Max"),e.qZA(),e._UZ(3,"label",43)(4,"input",44)(5,"label",45)(6,"input",46),e.TgZ(7,"label",37),e._uU(8),e.ALo(9,"number"),e.qZA(),e._UZ(10,"input",47),e.ALo(11,"number"),e.qZA()),2&n){const t=e.oxw(4).$implicit,o=e.oxw();e.xp6(4),e.Q6J("placeholder",o.userSettings.kgs?"Kgs":"lbs"),e.xp6(2),e.Q6J("placeholder","Reps"),e.xp6(2),e.AsE("1RM : ",e.xi3(9,5,t.get("setOptions.weight").value/(1.0278-.0278*t.get("setOptions.reps").value),"1.0-0")," ",o.userSettings.kgs?"Kgs":"lbs",""),e.xp6(2),e.Q6J("value",e.xi3(11,8,t.get("setOptions.weight").value/(1.0278-.0278*t.get("setOptions.reps").value),"1.0-0"))}}function Ye(n,l){if(1&n&&(e.TgZ(0,"label",55),e._uU(1),e.qZA()),2&n){const t=e.oxw(5).$implicit,o=e.oxw();e.xp6(1),e.AsE("",t.get("setOptions.calculatedWeight").value," ",o.userSettings.kgs?"Kgs":"lbs","")}}function Ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e._UZ(1,"label",48)(2,"label",49)(3,"input",50)(4,"label",51)(5,"input",52),e.YNc(6,Ye,2,2,"label",53),e.TgZ(7,"button",54),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4),s=i.index,r=i.$implicit,a=e.oxw();return e.KtG(a.findOneRmFromDb(s,r.get("setOptions.findWeek").value,r.get("setOptions.findSet").value,r.get("name").value))}),e._uU(8,"Find Now"),e.qZA()()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(3),e.Q6J("placeholder","Week"),e.xp6(2),e.Q6J("placeholder","Set"),e.xp6(1),e.Q6J("ngIf",t.get("setOptions.calculatedWeight").value),e.xp6(1),e.Q6J("disabled",!t.get("setOptions.findWeek").value||!t.get("setOptions.findSet").value)}}function Ke(n,l){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,Ee,2,0,"label",33),e.YNc(2,He,5,4,"div",8),e.YNc(3,Pe,12,11,"div",8),e.YNc(4,Ge,9,4,"div",8),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.enterOneRm").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.findOneRm").value)}}function Le(n,l){1&n&&(e.TgZ(0,"label",37),e._uU(1,"Set Options"),e.qZA())}function $e(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).index,s=e.oxw();return e.KtG(s.enterNewOneRm(i))}),e._uU(2,"Enter New One Rep Max"),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).index,s=e.oxw();return e.KtG(s.findNewOneRm(i))}),e._uU(4,"Find New One Rep Max"),e.qZA()()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(1),e.ekj("button-selected",!0===t.get("setOptions.enterOneRm").value),e.xp6(2),e.ekj("button-selected",!0===t.get("setOptions.findOneRm").value)}}function je(n,l){if(1&n&&(e.TgZ(0,"div",13)(1,"label",42),e._uU(2,"Enter New One Rep Max"),e.qZA(),e._UZ(3,"label",43)(4,"input",44)(5,"label",45)(6,"input",46),e.TgZ(7,"label",37),e._uU(8),e.ALo(9,"number"),e.qZA(),e._UZ(10,"input",47),e.ALo(11,"number"),e.qZA()),2&n){const t=e.oxw(4).$implicit,o=e.oxw();e.xp6(4),e.Q6J("placeholder",o.userSettings.kgs?"Kgs":"lbs"),e.xp6(2),e.Q6J("placeholder","Reps"),e.xp6(2),e.AsE("1RM : ",e.xi3(9,5,t.get("setOptions.weight").value/(1.0278-.0278*t.get("setOptions.reps").value),"1.0-0")," ",o.userSettings.kgs?"Kgs":"lbs",""),e.xp6(2),e.Q6J("value",e.xi3(11,8,t.get("setOptions.weight").value/(1.0278-.0278*t.get("setOptions.reps").value),"1.0-0"))}}function Ve(n,l){if(1&n&&(e.TgZ(0,"label",55),e._uU(1),e.qZA()),2&n){const t=e.oxw(5).$implicit,o=e.oxw();e.xp6(1),e.AsE("",t.get("setOptions.calculatedWeight").value," ",o.userSettings.kgs?"Kgs":"lbs","")}}function ze(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e._UZ(1,"label",48)(2,"label",49)(3,"input",50)(4,"label",51)(5,"input",52),e.YNc(6,Ve,2,2,"label",53),e.TgZ(7,"button",54),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4),s=i.index,r=i.$implicit,a=e.oxw();return e.KtG(a.findOneRmFromDb(s,r.get("setOptions.findWeek").value,r.get("setOptions.findSet").value,r.get("name").value))}),e._uU(8,"Find Now"),e.qZA()()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(3),e.Q6J("placeholder","Week"),e.xp6(2),e.Q6J("placeholder","Set"),e.xp6(1),e.Q6J("ngIf",t.get("setOptions.calculatedWeight").value),e.xp6(1),e.Q6J("disabled",!t.get("setOptions.findWeek").value||!t.get("setOptions.findSet").value)}}function Xe(n,l){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,Le,2,0,"label",33),e.YNc(2,$e,5,4,"div",8),e.YNc(3,je,12,11,"div",8),e.YNc(4,ze,9,4,"div",8),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.enterOneRm").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.findOneRm").value)}}function et(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",37),e._uU(2,"Decrease All Weight By:"),e.qZA(),e.TgZ(3,"div",34)(4,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setWeight("-2.5",i))}),e._uU(5,"-2.5kg"),e.qZA(),e.TgZ(6,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setWeight("-5",i))}),e._uU(7,"-5kg"),e.qZA(),e.TgZ(8,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setWeight("-10",i))}),e._uU(9,"-10kg"),e.qZA()(),e.YNc(10,Qe,2,4,"button",39),e.TgZ(11,"div",37),e._uU(12,"Increase All Reps By:"),e.qZA(),e.TgZ(13,"div",34)(14,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("1",i))}),e._uU(15,"1 Rep"),e.qZA(),e.TgZ(16,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("2",i))}),e._uU(17,"2 Reps"),e.qZA(),e.TgZ(18,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("3",i))}),e._uU(19,"3 Reps"),e.qZA(),e.TgZ(20,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("other",i))}),e._uU(21),e.qZA(),e.YNc(22,De,2,0,"button",36),e.qZA(),e.TgZ(23,"div",37),e._uU(24,"Decrease All Reps By:"),e.qZA(),e.TgZ(25,"div",34)(26,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("-1",i))}),e._uU(27,"-1 Rep"),e.qZA(),e.TgZ(28,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("-2",i))}),e._uU(29,"-2 Reps"),e.qZA(),e.TgZ(30,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("-3",i))}),e._uU(31,"-3 Reps"),e.qZA()(),e.YNc(32,Ke,5,4,"div",8),e.TgZ(33,"div",40),e.YNc(34,Xe,5,4,"div",8),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.Q6J("ngClass",e.WLB(15,N,"-2.5"===t.get("increaseWeight").value,"-2.5"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(18,N,"-5"===t.get("increaseWeight").value,"-5"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(21,N,"-10"===t.get("increaseWeight").value,"-10"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngIf",1==t.get("oneRm").value),e.xp6(4),e.Q6J("ngClass",e.WLB(24,N,"1"===t.get("increaseReps").value,"1"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(27,N,"2"===t.get("increaseReps").value,"2"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(30,N,"3"===t.get("increaseReps").value,"3"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(33,N,"1"!==t.get("increaseReps").value&&"2"!==t.get("increaseReps").value&&"3"!==t.get("increaseReps").value&&"-1"!==t.get("increaseReps").value&&"-2"!==t.get("increaseReps").value&&"-3"!==t.get("increaseReps").value,"1"===t.get("increaseReps").value||"2"===t.get("increaseReps").value||"3"===t.get("increaseReps").value||"-1"===t.get("increaseReps").value||"-2"===t.get("increaseReps").value||"-3"===t.get("increaseReps").value)),e.xp6(1),e.hij("",t.get("increaseReps").value," Reps"),e.xp6(1),e.Q6J("ngIf","1"===t.get("increaseReps").value||"2"===t.get("increaseReps").value||"3"===t.get("increaseReps").value||""===t.get("increaseReps").value||"-1"===t.get("increaseReps").value||"-2"===t.get("increaseReps").value||"-3"===t.get("increaseReps").value),e.xp6(4),e.Q6J("ngClass",e.WLB(36,N,"-1"===t.get("increaseReps").value,"-1"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(39,N,"-2"===t.get("increaseReps").value,"-2"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(42,N,"-3"===t.get("increaseReps").value,"-3"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(2),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value)}}function tt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,Be,2,0,"div",33),e.YNc(2,Ue,2,0,"div",33),e.TgZ(3,"div",34)(4,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.setWeight("2.5",i))}),e._uU(5,"2.5kg"),e.qZA(),e.TgZ(6,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.setWeight("5",i))}),e._uU(7,"5kg"),e.qZA(),e.TgZ(8,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.setWeight("10",i))}),e._uU(9,"10kg"),e.qZA(),e.TgZ(10,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.setWeight("other",i))}),e._uU(11),e.qZA(),e.YNc(12,Ie,2,0,"button",36),e.qZA(),e.YNc(13,et,35,45,"div",30),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",1!=t.get("oneRm").value),e.xp6(1),e.Q6J("ngIf",1==t.get("oneRm").value),e.xp6(2),e.Q6J("ngClass",e.WLB(9,N,"2.5"===t.get("increaseWeight").value,"2.5"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(12,N,"5"===t.get("increaseWeight").value,"5"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(15,N,"10"===t.get("increaseWeight").value,"10"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(18,N,"10"!==t.get("increaseWeight").value&&"5"!==t.get("increaseWeight").value&&"2.5"!==t.get("increaseWeight").value&&"-10"!==t.get("increaseWeight").value&&"-5"!==t.get("increaseWeight").value&&"-2.5"!==t.get("increaseWeight").value,"10"===t.get("increaseWeight").value||"5"===t.get("increaseWeight").value||"2.5"===t.get("increaseWeight").value||"-10"===t.get("increaseWeight").value||"-5"===t.get("increaseWeight").value||"-2.5"===t.get("increaseWeight").value)),e.xp6(1),e.hij("",t.get("increaseWeight").value,"kg"),e.xp6(1),e.Q6J("ngIf","10"===t.get("increaseWeight").value||"5"===t.get("increaseWeight").value||"2.5"===t.get("increaseWeight").value||""===t.get("increaseWeight").value||"-2.5"===t.get("increaseWeight").value||"-5"===t.get("increaseWeight").value||"-10"===t.get("increaseWeight").value),e.xp6(1),e.Q6J("ngIf",1==t.get("show").value)}}function ot(n,l){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"TextField",19)(3,"TextField",20,21)(5,"TextField",22)(6,"TextField",23,24),e.TgZ(8,"div",25),e.YNc(9,qe,2,0,"div",26),e.TgZ(10,"div",27),e._uU(11),e.qZA(),e.TgZ(12,"div",28),e._uU(13),e.qZA(),e.YNc(14,ye,2,0,"button",29),e.YNc(15,Fe,2,0,"button",29),e.qZA(),e.YNc(16,tt,14,21,"div",30),e.qZA()()),2&n){const t=l.$implicit,o=l.index;e.xp6(1),e.Q6J("formGroupName",o),e.xp6(1),e.Q6J("ngModel",o+1),e.xp6(7),e.Q6J("ngIf",1==t.get("oneRm").value),e.xp6(2),e.Oqu(t.get("name").value),e.xp6(2),e.Oqu(t.get("type").value),e.xp6(1),e.Q6J("ngIf",0==t.get("show").value),e.xp6(1),e.Q6J("ngIf",1==t.get("show").value),e.xp6(1),e.Q6J("ngIf",1==t.get("show").value)}}let it=(()=>{var n;class l{constructor(o,i,s,r){this.userService=o,this.routineService=i,this.dialogRef=s,this.data=r,this.minDate=new Date(2020,0,1),this.maxDate=new Date(2030,0,1),this.fromProgram=!1,this.isLoading=!0}ngOnInit(){this.userService.currentUser.subscribe(o=>{this.userSettings=o}),this.preview=this.data.preview,this.nextMesoJSON=this.data.nextMesoJSON,this.exerciseJSON=this.data.exerciseJSON,this.fromProgram=this.data.fromProgram,this.programBlock=this.data.programBlock,this.initForm()}initForm(){let o=new p.Oe([]);if(this.nextMesoJSON)for(let s of this.nextMesoJSON.exercises)o.push(new p.cw({name:new p.NI(s.name),type:new p.NI(s.type),show:new p.NI(!1),increaseWeight:new p.NI(s.increaseWeight),increaseReps:new p.NI(s.increaseReps),oneRm:new p.NI(s.oneRm),currentOneRm:new p.NI(s.currentOneRm),findNewOneRm:new p.NI(!1),setOptions:new p.cw({oneRmOptions:new p.NI(!1),enterOneRm:new p.NI(!1),findOneRm:new p.NI(!1),weight:new p.NI(""),reps:new p.NI(""),startingWeight:new p.NI(""),findWeek:new p.NI,findSet:new p.NI,retrievedWeight:new p.NI(""),retrievedReps:new p.NI(""),calculatedWeight:new p.NI("")})}));this.nextMesoForm=new p.cw({date:new p.NI(new Date),exercises:o}),this.isLoading=!1}onSubmit(){if(this.fromProgram&&this.preview){let o=JSON.stringify(this.nextMesoForm.value);this.routineService.setProgramsNextMesoJSON(o)}if(!this.preview){this.nextMesoForm.value.exercises.forEach(s=>{if(s.oneRm&&!s.findNewOneRm){let r=this.exerciseJSON.exercises.find(_=>_.exerciseName==s.name);s.currentOneRm=r.currentWeight;let u=parseFloat(s.increaseWeight)+parseFloat(s.currentOneRm);this.exerciseJSON.exercises.forEach(_=>{_.exerciseName==s.name&&(_.currentWeight=u)}),s.currentOneRm=s.increaseWeight?u:s.currentOneRm}s.oneRm&&s.findNewOneRm&&(s.setOptions.enterOneRm&&(s.currentOneRm=s.setOptions.startingWeight),s.setOptions.findOneRm&&(s.currentOneRm=s.setOptions.calculatedWeight))});let i=JSON.stringify(this.nextMesoForm.value);this.routineService.setProgramsNextMesoJSON(i)}}showAllOptions(){let o=this.nextMesoForm.get("exercises").value;o.forEach(i=>{i.show=!0}),this.nextMesoForm.get("exercises").patchValue(o)}hideAllOptions(){let o=this.nextMesoForm.get("exercises").value;o.forEach(i=>{i.show=!1}),this.nextMesoForm.get("exercises").patchValue(o)}onConLog(){let o=this.nextMesoForm.value;o.exercises.forEach(i=>{if(i.oneRm&&!i.findNewOneRm){let s=this.exerciseJSON.exercises.find(u=>u.exerciseName);i.currentOneRm=s.currentWeight;let r=parseFloat(i.increaseWeight),a=parseFloat(i.currentOneRm);i.currentOneRm=i.increaseWeight?r+a:i.currentOneRm}i.oneRm&&i.findNewOneRm&&(i.setOptions.enterOneRm&&(i.currentOneRm=i.setOptions.startingWeight),i.setOptions.findOneRm&&(i.currentOneRm=i.setOptions.calculatedWeight))}),console.log(o)}setWeight(o,i){this.nextMesoForm.get("exercises").at(i).get("findNewOneRm").patchValue(!1),this.nextMesoForm.get("exercises").at(i).get("setOptions.oneRmOptions").patchValue(!1),o==this.nextMesoForm.get("exercises").at(i).get("increaseWeight").value?this.nextMesoForm.get("exercises").at(i).get("increaseWeight").patchValue(""):this.nextMesoForm.get("exercises").at(i).get("increaseWeight").patchValue(o)}setReps(o,i){o==this.nextMesoForm.get("exercises").at(i).get("increaseReps").value?this.nextMesoForm.get("exercises").at(i).get("increaseReps").patchValue(""):this.nextMesoForm.get("exercises").at(i).get("increaseReps").patchValue(o)}showOptions(o){this.nextMesoForm.get("exercises").at(o).get("show").patchValue(!0)}hideOptions(o){this.nextMesoForm.get("exercises").at(o).get("show").patchValue(!1)}setOptions(o,i){"addSet"==o&&this.nextMesoForm.get("exercises").at(i).get("setOptions").patchValue(o),"removeSet"==o&&this.nextMesoForm.get("exercises").at(i).get("setOptions").patchValue(o)}showfindNewOneRmOptions(o){this.nextMesoForm.get("exercises").at(o).get("increaseWeight").patchValue(""),this.nextMesoForm.get("exercises").at(o).get("findNewOneRm").patchValue(!0);let s=!this.nextMesoForm.get("exercises").at(o).get("setOptions.oneRmOptions").value;this.nextMesoForm.get("exercises").at(o).get("setOptions.oneRmOptions").patchValue(s)}enterNewOneRm(o){this.nextMesoForm.get("exercises").at(o).get("setOptions.findOneRm").patchValue(!1);let s=!this.nextMesoForm.get("exercises").at(o).get("setOptions.enterOneRm").value;this.nextMesoForm.get("exercises").at(o).get("setOptions.enterOneRm").patchValue(s)}findNewOneRm(o){this.nextMesoForm.get("exercises").at(o).get("setOptions.enterOneRm").patchValue(!1);let s=!this.nextMesoForm.get("exercises").at(o).get("setOptions.findOneRm").value;this.nextMesoForm.get("exercises").at(o).get("setOptions.findOneRm").patchValue(s)}findOneRmFromDb(o,i,s,r){}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(J.K),e.Y36(R.p),e.Y36(O.so),e.Y36(O.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-next-meso-modal"]],decls:20,vars:4,consts:[[2,"padding","10px"],[1,"row"],[1,"col-sm-12"],["mat-button","",1,"button",3,"mat-dialog-close"],[1,"page",3,"formGroup"],[1,"block-grid",2,"display","grid","grid-template-columns","auto auto"],[1,"button",2,"grid-column","1","grid-row","1",3,"click"],[1,"h1"],["class","block-grid",4,"ngIf"],[1,"heading-1",2,"grid-row","1","grid-column","span 2"],[1,"button-not-selected",2,"grid-row","2","grid-column","1",3,"click"],[1,"button-not-selected",2,"grid-row","2","grid-column","2",3,"click"],["formArrayName","exercises","class","block-grid",4,"ngFor","ngForOf"],[1,"block-grid"],[1,"header"],[1,"hr-light"],["type","date","formControlName","date",1,"date-picker",3,"min","max"],["formArrayName","exercises",1,"block-grid"],[3,"formGroupName"],["height","1","formControlName","name",1,"hidden",3,"ngModel"],["height","1","formControlName","exerciseName",1,"hidden"],["element",""],["height","1","formControlName","exerciseId",1,"hidden"],["height","1","formControlName","superSet",1,"hidden"],["superSetElement",""],[2,"display","grid","grid-template-columns","auto auto","grid-template-rows","auto auto auto"],["style","grid-row: 1; grid-column: span 2;","class","heading-2 hightLight",4,"ngIf"],[1,"heading-2",2,"grid-row","2","grid-column","1"],[1,"exTypeLabel",2,"grid-row","2","grid-column","2"],["style","grid-row: 3; grid-column: 1;","class","button-not-selected",3,"click",4,"ngIf"],[4,"ngIf"],[1,"heading-2","hightLight",2,"grid-row","1","grid-column","span 2"],[1,"button-not-selected",2,"grid-row","3","grid-column","1",3,"click"],["class","heading-1",4,"ngIf"],[1,"block-grid",2,"display","grid","grid-template-columns","auto auto auto auto"],[3,"ngClass","click"],["class","button-not-selected",3,"click",4,"ngIf"],[1,"heading-1"],[1,"button-not-selected",3,"click"],["style","grid-column: 1; grid-column-span: 4;",3,"ngClass","click",4,"ngIf"],["formGroupName","setOptions"],[2,"grid-column","1","grid-column-span","4",3,"ngClass","click"],["colSpan","4",1,"heading-1"],["text","Weight","verticalAlignment","center",1,"heading-1-text"],["formControlName","weight","type","number","step","any",1,"textfield",3,"placeholder"],["text","Reps","verticalAlignment","center",1,"heading-1-text"],["formControlName","reps","type","number",1,"textfield",3,"placeholder"],["formControlName","startingWeight",1,"hidden",3,"value"],["colSpan","4","text","Find New One Rep Max",1,"heading-1"],["text","Enter Week","verticalAlignment","center",1,"heading-1-text"],["formControlName","findWeek","type","number",1,"textfield",3,"placeholder"],["text","Enter Set","verticalAlignment","center",1,"heading-1-text"],["formControlName","findSet","type","number",1,"textfield",3,"placeholder"],["class","heading-1-text",4,"ngIf"],[1,"button-not-selected",3,"disabled","click"],[1,"heading-1-text"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e._uU(4,"Close"),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"button",6),e.NdJ("click",function(){return i.onSubmit()}),e._uU(8,"Finish"),e.qZA()(),e.TgZ(9,"h1",7),e._uU(10,"Next Meso Rules"),e.qZA(),e.YNc(11,Ae,5,2,"div",8),e.TgZ(12,"div",5)(13,"div",9),e._uU(14,"Recommended increases are chosen already"),e.qZA(),e.TgZ(15,"button",10),e.NdJ("click",function(){return i.showAllOptions()}),e._uU(16,"Show All Options"),e.qZA(),e.TgZ(17,"button",11),e.NdJ("click",function(){return i.hideAllOptions()}),e._uU(18,"Hide All Options"),e.qZA()(),e.YNc(19,ot,17,8,"div",12),e.qZA()()()()),2&o&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("formGroup",i.nextMesoForm),e.xp6(6),e.Q6J("ngIf",i.nextMesoForm&&!i.fromProgram),e.xp6(8),e.Q6J("ngForOf",i.nextMesoForm.get("exercises").controls))},dependencies:[f.mk,f.sg,f.O5,p.Fj,p.wV,p.JJ,p.JL,p.sg,p.u,p.x0,p.CE,O.ZT,f.JJ],encapsulation:2}),l})();function nt(n,l){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2,"Choose your starting date"),e.qZA(),e._UZ(3,"div",15)(4,"input",16),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("min",t.minDate)("max",t.maxDate)}}function st(n,l){1&n&&(e.TgZ(0,"div",25),e._uU(1,"One Rep Max Exercise"),e.qZA())}function rt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.showOptions(i))}),e._uU(1,"Show Options"),e.qZA()}}function lt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.hideOptions(i))}),e._uU(1,"Hide Options"),e.qZA()}}function ct(n,l){1&n&&(e.TgZ(0,"div",31),e._uU(1,"Increase All Weight By:"),e.qZA())}function at(n,l){1&n&&(e.TgZ(0,"div",31),e._uU(1,"Increase Current One Rep Max Weight By:"),e.qZA())}function _t(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setWeight("other",i))}),e._uU(1,"Other"),e.qZA()}}const b=function(n,l){return{"button-selected":n,"button-not-selected":l}};function dt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).index,s=e.oxw();return e.KtG(s.showfindNewOneRmOptions(i))}),e._uU(1,"Find new One Rep Max"),e.qZA()}if(2&n){const t=e.oxw(3).$implicit;e.Q6J("ngClass",e.WLB(1,b,!0===t.get("setOptions.oneRmOptions").value,!0!==t.get("setOptions.oneRmOptions").value))}}function pt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).index,s=e.oxw();return e.KtG(s.setReps("other",i))}),e._uU(1,"Other"),e.qZA()}}function ut(n,l){1&n&&(e.TgZ(0,"label",31),e._uU(1,"Set Options"),e.qZA())}function gt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).index,s=e.oxw();return e.KtG(s.enterNewOneRm(i))}),e._uU(2,"Enter New One Rep Max"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).index,s=e.oxw();return e.KtG(s.findNewOneRm(i))}),e._uU(4,"Find New One Rep Max"),e.qZA()()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(1),e.ekj("button-selected",!0===t.get("setOptions.enterOneRm").value),e.xp6(2),e.ekj("button-selected",!0===t.get("setOptions.findOneRm").value)}}function mt(n,l){if(1&n&&(e.TgZ(0,"div",13)(1,"label",36),e._uU(2,"Enter New One Rep Max"),e.qZA(),e._UZ(3,"label",37)(4,"input",38)(5,"label",39)(6,"input",40),e.TgZ(7,"label",31),e._uU(8),e.ALo(9,"number"),e.qZA(),e._UZ(10,"input",41),e.ALo(11,"number"),e.qZA()),2&n){const t=e.oxw(4).$implicit,o=e.oxw();e.xp6(4),e.Q6J("placeholder",o.userSettings.kgs?"Kgs":"lbs"),e.xp6(2),e.Q6J("placeholder","Reps"),e.xp6(2),e.AsE("1RM : ",e.xi3(9,5,t.get("setOptions.weight").value/(1.0278-.0278*t.get("setOptions.reps").value),"1.0-0")," ",o.userSettings.kgs?"Kgs":"lbs",""),e.xp6(2),e.Q6J("value",e.xi3(11,8,t.get("setOptions.weight").value/(1.0278-.0278*t.get("setOptions.reps").value),"1.0-0"))}}function ht(n,l){if(1&n&&(e.TgZ(0,"label",49),e._uU(1),e.qZA()),2&n){const t=e.oxw(5).$implicit,o=e.oxw();e.xp6(1),e.AsE("",t.get("setOptions.calculatedWeight").value," ",o.userSettings.kgs?"Kgs":"lbs","")}}function vt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e._UZ(1,"label",42)(2,"label",43)(3,"input",44)(4,"label",45)(5,"input",46),e.YNc(6,ht,2,2,"label",47),e.TgZ(7,"button",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4),s=i.index,r=i.$implicit,a=e.oxw();return e.KtG(a.findOneRmFromDb(s,r.get("setOptions.findWeek").value,r.get("setOptions.findSet").value,r.get("name").value))}),e._uU(8,"Find Now"),e.qZA()()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(3),e.Q6J("placeholder","Week"),e.xp6(2),e.Q6J("placeholder","Set"),e.xp6(1),e.Q6J("ngIf",t.get("setOptions.calculatedWeight").value),e.xp6(1),e.Q6J("disabled",!t.get("setOptions.findWeek").value||!t.get("setOptions.findSet").value)}}function xt(n,l){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,ut,2,0,"label",27),e.YNc(2,gt,5,4,"div",8),e.YNc(3,mt,12,11,"div",8),e.YNc(4,vt,9,4,"div",8),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.enterOneRm").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.findOneRm").value)}}function ft(n,l){1&n&&(e.TgZ(0,"label",31),e._uU(1,"Set Options"),e.qZA())}function kt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).index,s=e.oxw();return e.KtG(s.enterNewOneRm(i))}),e._uU(2,"Enter New One Rep Max"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4).index,s=e.oxw();return e.KtG(s.findNewOneRm(i))}),e._uU(4,"Find New One Rep Max"),e.qZA()()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(1),e.ekj("button-selected",!0===t.get("setOptions.enterOneRm").value),e.xp6(2),e.ekj("button-selected",!0===t.get("setOptions.findOneRm").value)}}function wt(n,l){if(1&n&&(e.TgZ(0,"div",13)(1,"label",36),e._uU(2,"Enter New One Rep Max"),e.qZA(),e._UZ(3,"label",37)(4,"input",38)(5,"label",39)(6,"input",40),e.TgZ(7,"label",31),e._uU(8),e.ALo(9,"number"),e.qZA(),e._UZ(10,"input",41),e.ALo(11,"number"),e.qZA()),2&n){const t=e.oxw(4).$implicit,o=e.oxw();e.xp6(4),e.Q6J("placeholder",o.userSettings.kgs?"Kgs":"lbs"),e.xp6(2),e.Q6J("placeholder","Reps"),e.xp6(2),e.AsE("1RM : ",e.xi3(9,5,t.get("setOptions.weight").value/(1.0278-.0278*t.get("setOptions.reps").value),"1.0-0")," ",o.userSettings.kgs?"Kgs":"lbs",""),e.xp6(2),e.Q6J("value",e.xi3(11,8,t.get("setOptions.weight").value/(1.0278-.0278*t.get("setOptions.reps").value),"1.0-0"))}}function Nt(n,l){if(1&n&&(e.TgZ(0,"label",49),e._uU(1),e.qZA()),2&n){const t=e.oxw(5).$implicit,o=e.oxw();e.xp6(1),e.AsE("",t.get("setOptions.calculatedWeight").value," ",o.userSettings.kgs?"Kgs":"lbs","")}}function bt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e._UZ(1,"label",42)(2,"label",43)(3,"input",44)(4,"label",45)(5,"input",46),e.YNc(6,Nt,2,2,"label",47),e.TgZ(7,"button",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4),s=i.index,r=i.$implicit,a=e.oxw();return e.KtG(a.findOneRmFromDb(s,r.get("setOptions.findWeek").value,r.get("setOptions.findSet").value,r.get("name").value))}),e._uU(8,"Find Now"),e.qZA()()}if(2&n){const t=e.oxw(4).$implicit;e.xp6(3),e.Q6J("placeholder","Week"),e.xp6(2),e.Q6J("placeholder","Set"),e.xp6(1),e.Q6J("ngIf",t.get("setOptions.calculatedWeight").value),e.xp6(1),e.Q6J("disabled",!t.get("setOptions.findWeek").value||!t.get("setOptions.findSet").value)}}function Ct(n,l){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,ft,2,0,"label",27),e.YNc(2,kt,5,4,"div",8),e.YNc(3,wt,12,11,"div",8),e.YNc(4,bt,9,4,"div",8),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.enterOneRm").value),e.xp6(1),e.Q6J("ngIf",!0===t.get("setOptions.findOneRm").value)}}function Ot(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",31),e._uU(2,"Decrease All Weight By:"),e.qZA(),e.TgZ(3,"div",28)(4,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setWeight("-2.5",i))}),e._uU(5,"-2.5kg"),e.qZA(),e.TgZ(6,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setWeight("-5",i))}),e._uU(7,"-5kg"),e.qZA(),e.TgZ(8,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setWeight("-10",i))}),e._uU(9,"-10kg"),e.qZA()(),e.YNc(10,dt,2,4,"button",33),e.TgZ(11,"div",31),e._uU(12,"Increase All Reps By:"),e.qZA(),e.TgZ(13,"div",28)(14,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("1",i))}),e._uU(15,"1 Rep"),e.qZA(),e.TgZ(16,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("2",i))}),e._uU(17,"2 Reps"),e.qZA(),e.TgZ(18,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("3",i))}),e._uU(19,"3 Reps"),e.qZA(),e.TgZ(20,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("other",i))}),e._uU(21),e.qZA(),e.YNc(22,pt,2,0,"button",30),e.qZA(),e.TgZ(23,"div",31),e._uU(24,"Decrease All Reps By:"),e.qZA(),e.TgZ(25,"div",28)(26,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("-1",i))}),e._uU(27,"-1 Rep"),e.qZA(),e.TgZ(28,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("-2",i))}),e._uU(29,"-2 Reps"),e.qZA(),e.TgZ(30,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).index,s=e.oxw();return e.KtG(s.setReps("-3",i))}),e._uU(31,"-3 Reps"),e.qZA()(),e.YNc(32,xt,5,4,"div",8),e.TgZ(33,"div",34),e.YNc(34,Ct,5,4,"div",8),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.Q6J("ngClass",e.WLB(15,b,"-2.5"===t.get("increaseWeight").value,"-2.5"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(18,b,"-5"===t.get("increaseWeight").value,"-5"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(21,b,"-10"===t.get("increaseWeight").value,"-10"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngIf",1==t.get("oneRm").value),e.xp6(4),e.Q6J("ngClass",e.WLB(24,b,"1"===t.get("increaseReps").value,"1"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(27,b,"2"===t.get("increaseReps").value,"2"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(30,b,"3"===t.get("increaseReps").value,"3"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(33,b,"1"!==t.get("increaseReps").value&&"2"!==t.get("increaseReps").value&&"3"!==t.get("increaseReps").value&&"-1"!==t.get("increaseReps").value&&"-2"!==t.get("increaseReps").value&&"-3"!==t.get("increaseReps").value,"1"===t.get("increaseReps").value||"2"===t.get("increaseReps").value||"3"===t.get("increaseReps").value||"-1"===t.get("increaseReps").value||"-2"===t.get("increaseReps").value||"-3"===t.get("increaseReps").value)),e.xp6(1),e.hij("",t.get("increaseReps").value," Reps"),e.xp6(1),e.Q6J("ngIf","1"===t.get("increaseReps").value||"2"===t.get("increaseReps").value||"3"===t.get("increaseReps").value||""===t.get("increaseReps").value||"-1"===t.get("increaseReps").value||"-2"===t.get("increaseReps").value||"-3"===t.get("increaseReps").value),e.xp6(4),e.Q6J("ngClass",e.WLB(36,b,"-1"===t.get("increaseReps").value,"-1"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(39,b,"-2"===t.get("increaseReps").value,"-2"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(42,b,"-3"===t.get("increaseReps").value,"-3"!==t.get("increaseReps").value)),e.xp6(2),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value),e.xp6(2),e.Q6J("ngIf",!0===t.get("setOptions.oneRmOptions").value)}}function Tt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,ct,2,0,"div",27),e.YNc(2,at,2,0,"div",27),e.TgZ(3,"div",28)(4,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.setWeight("2.5",i))}),e._uU(5,"2.5kg"),e.qZA(),e.TgZ(6,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.setWeight("5",i))}),e._uU(7,"5kg"),e.qZA(),e.TgZ(8,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.setWeight("10",i))}),e._uU(9,"10kg"),e.qZA(),e.TgZ(10,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw();return e.KtG(s.setWeight("other",i))}),e._uU(11),e.qZA(),e.YNc(12,_t,2,0,"button",30),e.qZA(),e.YNc(13,Ot,35,45,"div",24),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",1!=t.get("oneRm").value),e.xp6(1),e.Q6J("ngIf",1==t.get("oneRm").value),e.xp6(2),e.Q6J("ngClass",e.WLB(9,b,"2.5"===t.get("increaseWeight").value,"2.5"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(12,b,"5"===t.get("increaseWeight").value,"5"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(15,b,"10"===t.get("increaseWeight").value,"10"!==t.get("increaseWeight").value)),e.xp6(2),e.Q6J("ngClass",e.WLB(18,b,"10"!==t.get("increaseWeight").value&&"5"!==t.get("increaseWeight").value&&"2.5"!==t.get("increaseWeight").value&&"-10"!==t.get("increaseWeight").value&&"-5"!==t.get("increaseWeight").value&&"-2.5"!==t.get("increaseWeight").value,"10"===t.get("increaseWeight").value||"5"===t.get("increaseWeight").value||"2.5"===t.get("increaseWeight").value||"-10"===t.get("increaseWeight").value||"-5"===t.get("increaseWeight").value||"-2.5"===t.get("increaseWeight").value)),e.xp6(1),e.hij("",t.get("increaseWeight").value,"kg"),e.xp6(1),e.Q6J("ngIf","10"===t.get("increaseWeight").value||"5"===t.get("increaseWeight").value||"2.5"===t.get("increaseWeight").value||""===t.get("increaseWeight").value||"-2.5"===t.get("increaseWeight").value||"-5"===t.get("increaseWeight").value||"-10"===t.get("increaseWeight").value),e.xp6(1),e.Q6J("ngIf",1==t.get("show").value)}}function Zt(n,l){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19),e.YNc(3,st,2,0,"div",20),e.TgZ(4,"div",21),e._uU(5),e.qZA(),e.TgZ(6,"div",22),e._uU(7),e.qZA(),e.YNc(8,rt,2,0,"button",23),e.YNc(9,lt,2,0,"button",23),e.qZA(),e.YNc(10,Tt,14,21,"div",24),e.qZA()()),2&n){const t=l.$implicit,o=l.index;e.xp6(1),e.Q6J("formGroupName",o),e.xp6(2),e.Q6J("ngIf",1==t.get("oneRm").value),e.xp6(2),e.Oqu(t.get("name").value),e.xp6(2),e.Oqu(t.get("type").value),e.xp6(1),e.Q6J("ngIf",0==t.get("show").value),e.xp6(1),e.Q6J("ngIf",1==t.get("show").value),e.xp6(1),e.Q6J("ngIf",1==t.get("show").value)}}let Jt=(()=>{var n;class l{constructor(o,i,s,r){this.userService=o,this.routineService=i,this.dialogRef=s,this.data=r,this.minDate=new Date(2020,0,1),this.maxDate=new Date(2030,0,1),this.fromProgram=!1}ngOnInit(){this.userService.currentUser.subscribe(o=>this.userSettings=o),this.preview=this.data.preview,this.nextBlockJSON=this.data.nextBlockJSON,this.exerciseJSON=this.data.exerciseJSON,this.fromProgram=this.data.fromProgram,this.programBlock=this.data.programBlock,this.initForm()}initForm(){let o=new p.Oe([]);if(this.nextBlockJSON)for(let s of this.nextBlockJSON.exercises)o.push(new p.cw({name:new p.NI(s.name),type:new p.NI(s.type),show:new p.NI(!1),increaseWeight:new p.NI(s.increaseWeight),increaseReps:new p.NI(s.increaseReps),oneRm:new p.NI(s.oneRm),currentOneRm:new p.NI(s.currentOneRm),findNewOneRm:new p.NI(!1),setOptions:new p.cw({oneRmOptions:new p.NI(!1),enterOneRm:new p.NI(!1),findOneRm:new p.NI(!1),weight:new p.NI(""),reps:new p.NI(""),startingWeight:new p.NI(""),findWeek:new p.NI,findSet:new p.NI,retrievedWeight:new p.NI(""),retrievedReps:new p.NI(""),calculatedWeight:new p.NI("")})}));this.nextBlockForm=new p.cw({date:new p.NI(new Date),exercises:o})}onSubmit(){if(this.fromProgram&&this.preview){let o=JSON.stringify(this.nextBlockForm.value);this.routineService.setProgramsNextBlockJSON(o)}if(!this.preview){this.nextBlockForm.value.exercises.forEach(s=>{if(s.oneRm&&!s.findNewOneRm){let r=this.exerciseJSON.exercises.find(_=>_.exerciseName==s.name);s.currentOneRm=r.currentWeight;let u=parseFloat(s.increaseWeight)+parseFloat(s.currentOneRm);this.exerciseJSON.exercises.forEach(_=>{_.exerciseName==s.name&&(_.currentWeight=u)}),s.currentOneRm=s.increaseWeight?u:s.currentOneRm}s.oneRm&&s.findNewOneRm&&(s.setOptions.enterOneRm&&(s.currentOneRm=s.setOptions.startingWeight),s.setOptions.findOneRm&&(s.currentOneRm=s.setOptions.calculatedWeight))});let i=JSON.stringify(this.nextBlockForm.value);this.routineService.setProgramsNextBlockJSON(i)}}showAllOptions(){let o=this.nextBlockForm.get("exercises").value;o.forEach(i=>{i.show=!0}),this.nextBlockForm.get("exercises").patchValue(o)}hideAllOptions(){let o=this.nextBlockForm.get("exercises").value;o.forEach(i=>{i.show=!1}),this.nextBlockForm.get("exercises").patchValue(o)}onConLog(){let o=this.nextBlockForm.value;o.exercises.forEach(i=>{if(i.oneRm&&!i.findNewOneRm){let s=this.exerciseJSON.exercises.find(u=>u.exerciseName);i.currentOneRm=s.currentWeight;let r=parseFloat(i.increaseWeight),a=parseFloat(i.currentOneRm);i.currentOneRm=i.increaseWeight?r+a:i.currentOneRm}i.oneRm&&i.findNewOneRm&&(i.setOptions.enterOneRm&&(i.currentOneRm=i.setOptions.startingWeight),i.setOptions.findOneRm&&(i.currentOneRm=i.setOptions.calculatedWeight))}),console.log(o)}setWeight(o,i){this.nextBlockForm.get("exercises").at(i).get("findNewOneRm").patchValue(!1),this.nextBlockForm.get("exercises").at(i).get("setOptions.oneRmOptions").patchValue(!1),o==this.nextBlockForm.get("exercises").at(i).get("increaseWeight").value?this.nextBlockForm.get("exercises").at(i).get("increaseWeight").patchValue(""):this.nextBlockForm.get("exercises").at(i).get("increaseWeight").patchValue(o)}setReps(o,i){o==this.nextBlockForm.get("exercises").at(i).get("increaseReps").value?this.nextBlockForm.get("exercises").at(i).get("increaseReps").patchValue(""):this.nextBlockForm.get("exercises").at(i).get("increaseReps").patchValue(o)}showOptions(o){this.nextBlockForm.get("exercises").at(o).get("show").patchValue(!0)}hideOptions(o){this.nextBlockForm.get("exercises").at(o).get("show").patchValue(!1)}setOptions(o,i){"addSet"==o&&this.nextBlockForm.get("exercises").at(i).get("setOptions").patchValue(o),"removeSet"==o&&this.nextBlockForm.get("exercises").at(i).get("setOptions").patchValue(o)}showfindNewOneRmOptions(o){this.nextBlockForm.get("exercises").at(o).get("increaseWeight").patchValue(""),this.nextBlockForm.get("exercises").at(o).get("findNewOneRm").patchValue(!0);let s=!this.nextBlockForm.get("exercises").at(o).get("setOptions.oneRmOptions").value;this.nextBlockForm.get("exercises").at(o).get("setOptions.oneRmOptions").patchValue(s)}enterNewOneRm(o){this.nextBlockForm.get("exercises").at(o).get("setOptions.findOneRm").patchValue(!1);let s=!this.nextBlockForm.get("exercises").at(o).get("setOptions.enterOneRm").value;this.nextBlockForm.get("exercises").at(o).get("setOptions.enterOneRm").patchValue(s)}findNewOneRm(o){this.nextBlockForm.get("exercises").at(o).get("setOptions.enterOneRm").patchValue(!1);let s=!this.nextBlockForm.get("exercises").at(o).get("setOptions.findOneRm").value;this.nextBlockForm.get("exercises").at(o).get("setOptions.findOneRm").patchValue(s)}findOneRmFromDb(o,i,s,r){}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(J.K),e.Y36(R.p),e.Y36(O.so),e.Y36(O.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-next-block-modal"]],decls:20,vars:4,consts:[[2,"padding","10px"],[1,"row"],[1,"col-sm-12"],["mat-button","",1,"button",3,"mat-dialog-close"],[1,"page",3,"formGroup"],[1,"block-grid",2,"display","grid","grid-template-columns","auto auto"],[1,"button",2,"grid-column","1","grid-row","1",3,"click"],[1,"h1"],["class","block-grid",4,"ngIf"],[1,"heading-1",2,"grid-row","1","grid-column","span 2"],[1,"button-not-selected",2,"grid-row","2","grid-column","1",3,"click"],[1,"button-not-selected",2,"grid-row","2","grid-column","2",3,"click"],["formArrayName","exercises","class","block-grid",4,"ngFor","ngForOf"],[1,"block-grid"],[1,"header"],[1,"hr-light"],["type","date","formControlName","date",1,"date-picker",3,"min","max"],["formArrayName","exercises",1,"block-grid"],[3,"formGroupName"],[2,"display","grid","grid-template-columns","auto auto","grid-template-rows","auto auto auto"],["style","grid-row: 1; grid-column: span 2;","class","heading-2 hightLight",4,"ngIf"],[1,"heading-2",2,"grid-row","2","grid-column","1"],[1,"exTypeLabel",2,"grid-row","2","grid-column","2"],["style","grid-row: 3; grid-column: 1;","class","button-not-selected",3,"click",4,"ngIf"],[4,"ngIf"],[1,"heading-2","hightLight",2,"grid-row","1","grid-column","span 2"],[1,"button-not-selected",2,"grid-row","3","grid-column","1",3,"click"],["class","heading-1",4,"ngIf"],[1,"block-grid",2,"display","grid","grid-template-columns","auto auto auto auto"],[3,"ngClass","click"],["class","button-not-selected",3,"click",4,"ngIf"],[1,"heading-1"],[1,"button-not-selected",3,"click"],["style","grid-column: 1; grid-column-span: 4;",3,"ngClass","click",4,"ngIf"],["formGroupName","setOptions"],[2,"grid-column","1","grid-column-span","4",3,"ngClass","click"],["colSpan","4",1,"heading-1"],["text","Weight","verticalAlignment","center",1,"heading-1-text"],["formControlName","weight","type","number","step","any",1,"textfield",3,"placeholder"],["text","Reps","verticalAlignment","center",1,"heading-1-text"],["formControlName","reps","type","number",1,"textfield",3,"placeholder"],["formControlName","startingWeight",1,"hidden",3,"value"],["colSpan","4","text","Find New One Rep Max",1,"heading-1"],["text","Enter Week","verticalAlignment","center",1,"heading-1-text"],["formControlName","findWeek","type","number",1,"textfield",3,"placeholder"],["text","Enter Set","verticalAlignment","center",1,"heading-1-text"],["formControlName","findSet","type","number",1,"textfield",3,"placeholder"],["class","heading-1-text",4,"ngIf"],[1,"button-not-selected",3,"disabled","click"],[1,"heading-1-text"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e._uU(4,"Close"),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"button",6),e.NdJ("click",function(){return i.onSubmit()}),e._uU(8,"Finish"),e.qZA()(),e.TgZ(9,"h1",7),e._uU(10,"Next Block Rules"),e.qZA(),e.YNc(11,nt,5,2,"div",8),e.TgZ(12,"div",5)(13,"div",9),e._uU(14,"Recommended increases are chosen already"),e.qZA(),e.TgZ(15,"button",10),e.NdJ("click",function(){return i.showAllOptions()}),e._uU(16,"Show All Options"),e.qZA(),e.TgZ(17,"button",11),e.NdJ("click",function(){return i.hideAllOptions()}),e._uU(18,"Hide All Options"),e.qZA()(),e.YNc(19,Zt,11,7,"div",12),e.qZA()()()()),2&o&&(e.xp6(3),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("formGroup",i.nextBlockForm),e.xp6(6),e.Q6J("ngIf",i.nextBlockForm&&!i.fromProgram),e.xp6(8),e.Q6J("ngForOf",i.nextBlockForm.get("exercises").controls))},dependencies:[f.mk,f.sg,f.O5,p.Fj,p.wV,p.JJ,p.JL,p.sg,p.u,p.x0,p.CE,O.ZT,f.JJ],encapsulation:2}),l})();function Mt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.otherWeeks())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(4);e.xp6(1),e.hij(" Start Week ",t.program.week," Workouts ")}}function Rt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.createDeloadWeek())}),e._uU(2,"Start Deload Week"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.createNextMesocycle())}),e._uU(4,"Start Next Mesocycle"),e.qZA()()}}function St(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.createDeloadWeek())}),e._uU(2,"Start Deload Week"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.createNextBlock())}),e._uU(4,"Start Next Block"),e.qZA()()}}function Wt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.createNextMesocycle())}),e._uU(2,"Start Next Mesocycle"),e.qZA()()}}function At(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.createNextBlock())}),e._uU(2,"Start Next Block"),e.qZA()()}}function qt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Mt,2,1,"button",19),e.YNc(2,Rt,5,0,"div",1),e.YNc(3,St,5,0,"div",1),e.YNc(4,Wt,3,0,"div",1),e.YNc(5,At,3,0,"div",1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.program.week<=t.program.weeks&&0==t.sortedWorkouts[t.program.block-1].mesocycles[t.program.currentMesoCycle-1].weeks[t.program.week-1].workouts.length&&1==t.sortedWorkouts[t.program.block-1].mesocycles[t.program.currentMesoCycle-1].weeks[t.program.week-2].workouts[t.workoutLengthNumber-1].completed),e.xp6(1),e.Q6J("ngIf",t.program.week==t.program.weeks+1&&t.program.currentMesoCycle<t.program.mesocycle&&t.sortedWorkouts[t.program.block-1].mesocycles[t.program.currentMesoCycle-1].weeks[t.program.week-2].workouts[t.workoutLengthNumber-1].completed&&0==t.sortedWorkouts[t.program.block-1].mesocycles[t.program.currentMesoCycle-1].weeks[t.program.week-1].workouts.length),e.xp6(1),e.Q6J("ngIf",t.program.week==t.program.weeks+1&&t.program.mesocycle==t.program.currentMesoCycle&&t.sortedWorkouts[t.program.block-1].mesocycles[t.program.currentMesoCycle-1].weeks[t.program.week-2].workouts[t.workoutLengthNumber-1].completed),e.xp6(1),e.Q6J("ngIf",t.program.week==t.program.weeks+2&&t.program.mesocycle>t.program.currentMesoCycle&&t.sortedWorkouts[t.program.block-1].mesocycles[t.program.currentMesoCycle-1].weeks[t.program.week-2].workouts[t.workoutLengthNumber-1].completed),e.xp6(1),e.Q6J("ngIf",t.program.week==t.program.weeks+2&&t.program.mesocycle==t.program.currentMesoCycle&&t.sortedWorkouts[t.program.block-1].mesocycles[t.program.currentMesoCycle-1].weeks[t.program.week-2].workouts[t.workoutLengthNumber-1].completed)}}function yt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(4);return e.KtG(s.showBlocks(i))}),e._UZ(1,"i",27),e.qZA()}}function Ft(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(4);return e.KtG(s.showBlocks(i))}),e._UZ(1,"i",5),e.qZA()}}function Bt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(2).index,r=e.oxw(4);return e.KtG(r.showMesos(s,i))}),e._UZ(1,"i",27),e.qZA()}}function Ut(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(2).index,r=e.oxw(4);return e.KtG(r.showMesos(s,i))}),e._UZ(1,"i",5),e.qZA()}}const T=function(n){return[n]};function It(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(2).index,r=e.oxw(2).index,a=e.oxw(4);return e.KtG(a.showMesoWorkouts(r,s,i))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(3,T,t.show?"week-label-selected":"week-label"))("disabled",0===t.workouts.length),e.xp6(1),e.hij(" ",t.name," ")}}function Qt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(2).index,r=e.oxw(2).index,a=e.oxw(4);return e.KtG(a.showMesoWorkouts(r,s,i))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(3,T,t.show?"week-label-selected":"week-label"))("disabled",0===t.workouts.length),e.xp6(1),e.hij(" ",t.name," ")}}function Dt(n,l){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,It,2,5,"button",33),e.YNc(2,Qt,2,5,"button",33),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",!t.show&&t.workouts.length>0),e.xp6(1),e.Q6J("ngIf",t.show&&t.workouts.length>0)}}function Et(n,l){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,Dt,3,2,"div",32),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.weeks)}}function Ht(n,l){if(1&n&&(e.TgZ(0,"div",43),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(9);e.xp6(1),e.AsE(" Total Lifted: ",t.totalWeight," ",o.userSettings.kgs?"Kgs":"lbs","")}}function Pt(n,l){if(1&n&&(e.TgZ(0,"div",36)(1,"div",37)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",38),e._UZ(5,"i",39),e.qZA(),e._UZ(6,"div",40),e.ALo(7,"date"),e._UZ(8,"div",41),e.YNc(9,Ht,2,2,"div",42),e.qZA()),2&n){const t=l.$implicit;e.Q6J("ngClass",e.VKq(9,T,t.completed?"highlight-completed":"highlight-not-completed")),e.xp6(3),e.AsE("Day ",t.day,". ",t.name,""),e.xp6(3),e.Q6J("textContent","Date: "+e.xi3(7,6,t.date,"fullDate")),e.xp6(2),e.Q6J("textContent","Time: "+t.totalTime),e.xp6(1),e.Q6J("ngIf",t.totalWeight)}}function Yt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Pt,10,11,"div",35),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.workouts)}}function Gt(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Yt,2,1,"div",1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t.workouts.length>0&&t.show)}}function Kt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",23),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2).index,a=e.oxw(4);return e.KtG(a.showMesos(r,s))}),e.TgZ(2,"div",24),e._uU(3),e.qZA(),e.YNc(4,Bt,2,0,"div",25),e.YNc(5,Ut,2,0,"div",25),e.qZA(),e.YNc(6,Et,2,1,"div",30),e.YNc(7,Gt,2,1,"div",29),e.qZA()}if(2&n){const t=l.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",!t.show&&t.weeks[0].workouts.length>0),e.xp6(1),e.Q6J("ngIf",t.show&&t.weeks[0].workouts.length>0),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(1),e.Q6J("ngForOf",t.weeks)}}function Lt(n,l){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,Kt,8,5,"div",29),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.mesocycles)}}function $t(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(4);return e.KtG(r.showBlocks(s))}),e.TgZ(2,"div",24),e._uU(3),e.qZA(),e.YNc(4,yt,2,0,"div",25),e.YNc(5,Ft,2,0,"div",25),e.qZA(),e.YNc(6,Lt,2,1,"div",26),e.qZA()}if(2&n){const t=l.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",!t.show&&t.mesocycles[0].weeks[0].workouts.length>0),e.xp6(1),e.Q6J("ngIf",t.show&&t.mesocycles[0].weeks[0].workouts.length>0),e.xp6(1),e.Q6J("ngIf",t.show)}}function jt(n,l){if(1&n&&(e.ynx(0),e.YNc(1,$t,7,4,"div",21),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.sortedWorkouts)}}function Vt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(4);return e.KtG(s.showBlocks(i))}),e._UZ(1,"i",27),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,T,t.weeks[0].workouts.length>0?"fas-week-label":"fas-week-label-disabled"))}}function zt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw(4);return e.KtG(s.showBlocks(i))}),e._UZ(1,"i",5),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,T,t.weeks[0].workouts.length>0?"fas-week-label":"fas-week-label-disabled"))}}function Xt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw().index,r=e.oxw(4);return e.KtG(r.showWorkouts(s,i))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(3,T,t.show?"week-label-selected":"week-label"))("disabled",0===t.workouts.length),e.xp6(1),e.Oqu(t.name)}}function eo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,s=e.oxw().index,r=e.oxw(4);return e.KtG(r.showWorkouts(s,i))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(3,T,t.show?"week-label-selected":"week-label"))("disabled",0===t.workouts.length),e.xp6(1),e.Oqu(t.name)}}function to(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Xt,2,5,"button",33),e.YNc(2,eo,2,5,"button",33),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show)}}function oo(n,l){if(1&n&&(e.TgZ(0,"div",52),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(7);e.xp6(1),e.AsE(" Total Lifted: ",t.totalWeight," ",o.userSettings.kgs?"Kgs":"lbs"," ")}}function io(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(7);return e.KtG(r.editWorkout(s.id))}),e.TgZ(1,"div",51),e._uU(2),e.qZA(),e.TgZ(3,"div",51),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"div",52),e._uU(7),e.qZA(),e.YNc(8,oo,2,2,"div",53),e.TgZ(9,"div",54),e._uU(10," \uf054"),e.qZA()()}if(2&n){const t=l.$implicit;e.Q6J("ngClass",e.VKq(10,T,t.completed?"highlight-grid-completed":"highlight-grid")),e.xp6(2),e.AsE("Day ",t.day,". ",t.name,""),e.xp6(2),e.hij("Date: ",e.xi3(5,7,t.date,"fullDate"),""),e.xp6(3),e.hij("Time: ",t.totalTime,""),e.xp6(1),e.Q6J("ngIf",t.totalWeight),e.xp6(1),e.Q6J("ngClass",e.VKq(12,T,t.completed?"fas-check-completed":"fas-check-not-completed"))}}function no(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,io,11,14,"div",49),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.workouts)}}function so(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,no,2,1,"div",1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t.workouts.length>0&&t.show)}}function ro(n,l){if(1&n&&(e.TgZ(0,"div",45)(1,"div",46),e._uU(2),e.qZA(),e.YNc(3,Vt,2,3,"div",47),e.YNc(4,zt,2,3,"div",47),e.TgZ(5,"div",28),e.YNc(6,to,3,2,"div",29),e.qZA(),e.YNc(7,so,2,1,"div",29),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(2),e.Q6J("ngForOf",t.weeks),e.xp6(1),e.Q6J("ngForOf",t.weeks)}}function lo(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ro,8,5,"div",44),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.sortedWorkouts)}}function co(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",2)(2,"div",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.conLog())}),e._uU(3),e.qZA(),e.TgZ(4,"div",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.options())}),e._UZ(5,"i",5),e.qZA()(),e.TgZ(6,"div",6)(7,"button",7),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onSchemaInfo())}),e._uU(8,"Schema"),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.viewDeloadModal(!0))}),e._uU(10,"Deload Week Rules"),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onViewNextMesoModal(!0))}),e._uU(12,"Next MesoRules"),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onViewNextBlockModal())}),e._uU(14,"Next Block Rules"),e.qZA()(),e.TgZ(15,"div",11)(16,"div",12),e._uU(17,"Program Progress"),e.qZA(),e.TgZ(18,"div",13),e._uU(19,"Current Block"),e.qZA(),e.TgZ(20,"div",14),e._uU(21),e.qZA(),e.TgZ(22,"div",15),e._uU(23,"Current Mesocycle"),e.qZA(),e.TgZ(24,"div",16),e._uU(25),e.qZA(),e.TgZ(26,"div",17),e._uU(27,"Mesoscyles Length"),e.qZA(),e.TgZ(28,"div",18),e._uU(29),e.qZA()(),e.YNc(30,qt,6,5,"div",1),e.YNc(31,jt,2,1,"ng-container",1),e.YNc(32,lo,2,1,"div",1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.program.name," "),e.xp6(8),e.Q6J("disabled",!t.program.runMeso),e.xp6(10),e.Oqu(t.program.block),e.xp6(4),e.AsE("",t.program.currentMesoCycle," / ",t.program.mesocycle,""),e.xp6(4),e.hij("",t.program.weeks," weeks"),e.xp6(1),e.Q6J("ngIf",t.sortedWorkouts&&t.program.runMeso),e.xp6(1),e.Q6J("ngIf",t.sortedWorkouts&&t.program.runMeso),e.xp6(1),e.Q6J("ngIf",t.sortedWorkouts&&!t.program.runMeso)}}function ao(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,co,33,9,"div",1),e.qZA()),2&n){const t=e.oxw();e.ekj("page",!t.parentData),e.xp6(1),e.Q6J("ngIf",t.program)}}let _o=(()=>{var n;class l{constructor(o,i,s,r,a){this.programService=o,this.router=i,this.userService=s,this.route=r,this.dialog=a,this.noDownload=!1,this.newProgram=!1,this.isLoading=!0,this.isCreating=!1,this.creatingNewBlock=!1,this.workoutsLength="*,",this.workoutLengthNumber=0,this.route.queryParams.subscribe(c=>{this.newProgram=c.newProgram,this.info=c.info,this.programId=c.programId,this.finishedProgram=c.finishedProgram})}ngOnInit(){this.userService.currentUser.subscribe(o=>this.userSettings=o),this.parentData?(this.programService.getProgramHistory(this.parentData.programId),this.getProgramHistory()):this.getProgram()}ngOnDestroy(){console.log("On Destory"),this.parentData=null,this.programSub.unsubscribe()}conLog(){console.log(this.program)}getProgram(){this.programSub=this.programService.currentProgram.subscribe(o=>{if(o){this.program=o,this.sortWorkouts();for(let r=0;r<o.workouts.length;r++)this.workoutsLength=this.workoutsLength.concat("*,");let s=this.program.workouts.filter(r=>r.week===this.program.week-1&&r.meso===this.program.currentMesoCycle).every(r=>!0===r.completed);console.log("allTrue",s),setTimeout(()=>{"block"==this.info&&this.createNextBlock(),"deload"==this.info&&this.createDeloadWeek(),"finish"==this.info&&this.finishProgram(),"workouts"==this.info&&this.otherWeeks()},1e3)}})}getProgramHistory(){this.programSub=this.programService.currentProgramHistory.subscribe(o=>{if(o){this.program=o,this.sortWorkouts();for(let i=0;i<o.workouts.length;i++)this.workoutsLength=this.workoutsLength.concat("*,")}})}options(){}finishProgram(){this.info=null,this.isLoading=!0,this.noDownload=!0,this.programService.updateFinalProgram({Completed:!0},this.program.id,!0,this.userSettings.id),this.router.navigate(["home"],{})}deleteProgram(){this.isLoading=!0,this.noDownload=!0,console.log("True Deleting program"),this.programService.deleteCurrentProgram(this.program.id,!0,this.userSettings.id,!0),setTimeout(()=>{this.router.navigate(["home"],{})},2e3)}onSchemaInfo(){this.dialog.open(le,{height:"900px",width:"600px",data:{multipliers:this.program.multipliersJSON}}).afterClosed().subscribe(i=>{})}otherWeeks(){this.info=null,this.isLoading=!0,this.creatingNewBlock=!0,1==this.program.block?(console.log("block 1",this.program.id),this.programService.getCurrentProgramWeeksWorkouts(this.program.id,this.program.week-1,this.program.block).subscribe(o=>{this.newProgramWorkouts=o,this.createOtherWeeksWorkouts()})):(console.log("other weeks past block 1"),this.programService.getCurrentProgramWeeksWorkouts(this.program.id,this.program.week-1,this.program.block).subscribe(o=>{this.newProgramWorkouts=o,console.log(o),this.createOtherWeeksWorkouts()}))}createOtherWeeksWorkouts(){this.updateProgramOverviewJSON(),console.log("Updating Properties"),this.updateProperties(),this.programService.postNewRoutineWorkoutsArray(this.newProgramWorkouts).subscribe(o=>{console.log("Elapsed time",o),this.updateRoutineBlockNextWeek()},o=>{console.log("Error"),console.error(o),this.isLoading=!1},()=>{})}updateRoutineBlockNextWeek(){let o={meso:this.program.currentMesoCycle,block:this.program.block,week:this.program.week+1,exerciseJSONstring:JSON.stringify(this.program.initialExercisesJSON),nextBlockJSONstring:JSON.stringify(this.program.nextBlockJSON),programOverviewJSONstring:JSON.stringify(this.program.programOverviewJSON)};this.newProgramWorkouts=[],this.programService.updateRoutineBlock(this.program.id,o)}updateProgramOverviewJSON(){if(0===Object.keys(this.program.programOverviewJSON).length&&this.program.programOverviewJSON.constructor===Object){console.log("Object is empty"),this.program.programOverviewJSON.weeks=[{week:1,block:1,totalWeight:"",totalSets:"",totalReps:"",totalTime:"",workouts:[]}];let i=0,s=0,r=0,a="00:00:00";this.newProgramWorkouts.forEach(c=>{a=this.addTimes(c.totalTime,a),i=parseFloat(c.totalWeight)+i,s=parseFloat(c.totalSets)+s,r=parseFloat(c.totalReps)+r,console.log("workout.totalWeight",c.totalTime);const u={workoutName:c.name,totalTime:c.totalTime,totalWeight:c.totalWeight,totalSets:c.totalSets,totalReps:c.totalReps};this.program.programOverviewJSON.weeks[0].totalWeight=i,this.program.programOverviewJSON.weeks[0].totalSets=s,this.program.programOverviewJSON.weeks[0].totalReps=r,this.program.programOverviewJSON.weeks[0].totalTime=a,this.program.programOverviewJSON.weeks[0].workouts.push(u)})}else{let o={week:this.program.week-1,block:this.program.block,totalWeight:"",totalSets:"",totalReps:"",totalTime:"",workouts:[]},i=0,s=0,r=0,a="00:00:00";this.newProgramWorkouts.forEach(c=>{a=this.addTimes(c.totalTime,a),i=parseFloat(c.totalWeight)+i,s=parseFloat(c.totalSets)+s,r=parseFloat(c.totalReps)+r;const u={workoutName:c.name,totalTime:c.totalTime,totalWeight:c.totalWeight,totalSets:c.totalSets,totalReps:c.totalReps};o.totalWeight=i.toString(),o.totalSets=s.toString(),o.totalReps=r.toString(),o.totalTime=a.toString(),o.workouts.push(u)}),this.program.programOverviewJSON.weeks.push(o)}}addTimes(o,i){const s=o.split(":").map(Number),r=i.split(":").map(Number),u=3600*s[0]+60*s[1]+s[2]+(3600*r[0]+60*r[1]+r[2]),_=Math.floor(u/3600),g=Math.floor(u%3600/60),d=u%60;return[_.toString().padStart(2,"0"),g.toString().padStart(2,"0"),d.toString().padStart(2,"0")].join(":")}onViewNextBlockModal(){this.dialog.open(Jt,{height:"900px",width:"600px",data:{fromProgram:!0,nextBlockJSON:this.program.nextBlockJSON,programBlock:this.program.block,exerciseJSON:this.program.initialExercisesJSON}})}onViewNextMesoModal(o){console.log(o),this.dialog.open(it,{height:"900px",width:"600px",data:{fromProgram:!0,nextMesoJSON:this.program.nextMesoJSON,programBlock:this.program.block,exerciseJSON:this.program.initialExercisesJSON,preview:o}}).afterClosed().subscribe(s=>{})}viewDeloadModal(o){console.log(this.program.multipliersJSON);let i=!1;this.program.multipliersJSON.forEach(r=>{"1RM"==r.type&&(i=!0)}),this.dialog.open(We,{height:"900px",width:"600px",data:{programWeeks:this.program.weeks,programMesos:this.program.mesocycle,runMeso:this.program.runMeso,includeDeloadWeek:this.program.includeDeloadWeek,oneRm:i,deloadJSON:this.program.deloadJSON,preview:o}}).afterClosed().subscribe(r=>{})}createNextMesocycle(){console.log("creating next mesocycle"),this.isLoading=!0,this.programService.getCurrentProgramCurrentMesoBaseWorkouts(this.program.id,1,this.program.block,this.program.currentMesoCycle).subscribe(o=>{this.newProgramWorkouts=o,this.nextMesocycleJSON()},o=>{console.log("Error"),console.error(o)})}nextMesocycleJSON(){let o=[];this.newProgramWorkouts.forEach(a=>a.segments.forEach(c=>{o.includes(c.exerciseName)||o.push(c.exerciseName)}));let i=[];this.program.nextMesoJSON.exercises.forEach(a=>{i.push(a.name)});let s=o.filter(a=>i.indexOf(a)<0),r=i.filter(a=>o.indexOf(a)<0);(s.length>0||r.length>0)&&(s&&s.forEach(a=>{this.program.nextMesoJSON.exercises.push({name:a,show:!1,increaseWeight:"",increaseReps:"",setOptions:""})}),r&&r.forEach(a=>{this.program.nextMesoJSON.exercises.forEach((c,u)=>{c.name===a&&this.program.nextMesoJSON.exercises.splice(u,1)})})),s=[],r=[],this.program.nextMesoJSON.exercises.forEach((a,c)=>{a.show=!1,1==a.oneRm&&(this.program.nextMesoJSON.exercises.splice(c,1),this.program.nextMesoJSON.exercises.unshift(a))}),this.onViewNextMesoModal(!1)}nextMesocycleWorkouts(){this.updateProgramOverviewJSON(),this.nextMesoPreChecks(),this.programService.postNewRoutineWorkoutsArray(this.newProgramWorkouts).subscribe(o=>{console.log("Elapsed time",o),this.updateRoutineMeso()},o=>{console.log("Error"),console.error(o)})}updateRoutineMeso(){let o={meso:this.program.currentMesoCycle+1,week:2,nextMesoJSONstring:JSON.stringify(this.program.nextBlockJSON)};this.newProgramWorkouts=[],this.programService.updateRoutineMeso(this.program.id,o)}nextMesoPreChecks(){let o=[],i=[],s=!1;for(var r of(this.program.workouts.forEach(_=>{_.meso===this.program.currentMesoCycle&&_.block===this.program.block&&(_.deload&&(s=!0,i.push(_.date)),!_.deload&&_.week==this.program.weeks&&o.push(_.date))}),this.newProgramWorkouts)){let _;r.segments.sort((d,m)=>d.name-m.name),r.segments.forEach(function(d){d.sets.sort((m,h)=>m.name-h.name)}),_=s?i.map(d=>new Date(d)):o.map(d=>new Date(d));const g=new Date(Math.min.apply(null,_.map(d=>d.getTime())));for(var a of(g.setDate(g.getDate()+(r.day-1+7)),r.date=g,r.deload=!1,r.meso=this.program.currentMesoCycle+1,r.baseWorkout=!0,r.week=1,r.userId=this.userSettings.userId,r.routineId=this.userSettings.routineId,r.completed=!1,r.routineId=+r.routineId,r.totalWeight="0",r.totalSets="0",r.totalReps="0",r.totalTime="00:00:00",delete r.id,r.segments))for(var c of(a.name=+a.name,delete a.id,a.sets)){c.name=+c.name,delete c.id,c.success=!1;try{let d,m,h,w,Z=this.program.nextMesoJSON.exercises.findIndex(v=>v.name==a.exerciseName);if(h=this.program.nextMesoJSON.exercises[Z],d=h.increaseWeight,m=h.increaseReps,h.oneRm){let v=this.program.initialExercisesJSON.exercises.findIndex(k=>k.exerciseName==a.exerciseName);if(!0===this.program.initialExercisesJSON.perctBool&&(w=parseFloat(h.currentOneRm)+parseFloat(d),this.program.initialExercisesJSON.exercises[v].perctWeight=w),!1===this.program.initialExercisesJSON.perctBool&&(w=parseFloat(h.currentOneRm)+parseFloat(d),this.program.initialExercisesJSON.exercises[v].currentWeight=w),!0===this.program.initialExercisesJSON.perctBool)var u=w*(c.rm/100);!1===this.program.initialExercisesJSON.perctBool&&(u=w*(c.rm/100),console.log(u));let x=this.roundToNearest(u,this.program.rounding);if(c.weight=x.toString(),m){let k=parseFloat(c.reps)+parseFloat(m);isNaN(k)?console.log("nan",k,"set.reps",c.reps,"new increment reps",m):c.reps=k.toString()}}else{if(d){let v=parseFloat(c.weight)+parseFloat(d);isNaN(v)?console.log("nan",v,"set.weight",c.weight,"new weight",d):c.weight=v.toString()}if(m){let v=parseFloat(c.reps)+parseFloat(m);isNaN(v)?console.log("nan",v,"set.reps",c.reps,"new Reps",m):c.reps=v.toString()}}}catch(d){console.error(d)}}}console.log("Pre checks done")}createDeloadWeek(){let o,i;this.isLoading=!0,this.creatingNewBlock=!0,this.program.runMeso&&(o=this.program.currentMesoCycle,i=this.program.deloadJSON.meso.week),console.log("meso",o,"week",i),this.programService.getCurrentProgramMesoWeeksWorkouts(this.program.id,i,o,this.program.block).subscribe(s=>{console.log(s),this.newProgramWorkouts=s,s&&this.deloadWeekWorkouts()},s=>{console.log("Error"),console.error(s)})}deloadWeekWorkouts(){this.updateProgramOverviewJSON(),this.newProgramWorkouts.forEach(o=>{delete o.id,o.routineId=+o.routineId,o.deload=!0,o.week=this.program.week,o.block=this.program.block,o.meso=this.program.currentMesoCycle,o.completed=!1,o.totalTime="00:00:00",o.totalWeight="0",o.totalSets="0",o.totalReps="0";const i=7*this.program.weeks,s=new Date(o.date);s.setHours(0,0,0,0),s.setDate(s.getDate()+(i+1)),o.date=s,o.day=o.day+i,o.segments.forEach(r=>{delete r.id,r.name=+r.name,r.sets.forEach(a=>{if(delete a.id,a.name=+a.name,a.success=!1,isNaN(a.weight))console.log("nan",a.weight);else{let c=parseFloat(a.weight)*(this.program.deloadJSON.meso.weightPerct/100),u=this.roundToNearest(c,this.program.rounding);a.weight=u.toString()}if(!isNaN(a.reps)){let c;this.program.deloadJSON.meso.repsPerctBool&&(c=parseFloat(a.reps)*(this.program.deloadJSON.meso.repsPerct/100)),this.program.deloadJSON.meso.repsNumberBool&&(c=parseFloat(a.reps)+this.program.deloadJSON.meso.reps);let u=this.roundToNearest(c,1);a.reps=u.toString()}})})}),this.saveDeloadWorkouts()}saveDeloadWorkouts(){this.programService.postNewRoutineWorkoutsArray(this.newProgramWorkouts).subscribe(o=>{console.log("Elapsed time",o),this.updateRoutineBlockNextWeek()},o=>{console.log("Error"),console.error(o),this.isLoading=!1},()=>{})}createNextBlock(){this.info="null",this.getCurrentProgramWeekBaseWorkouts(),this.isLoading=!0}getCurrentProgramWeekBaseWorkouts(){this.program.runMeso||this.programService.getCurrentProgramBaseWorkouts(this.program.id,1,this.program.block).subscribe(o=>{this.newProgramWorkouts=o,console.log("Retrived workouts",o.length,o),this.nextBlockJSONCheck()},o=>{console.log("Error"),console.error(o)}),this.program.runMeso&&this.programService.getCurrentProgramMesoWeeksWorkouts(this.program.id,1,1,this.program.block).subscribe(o=>{this.newProgramWorkouts=o,console.log("Retrived workouts",o.length,o),this.nextBlockJSONCheck()},o=>{console.log("Error"),console.error(o)})}nextBlockJSONCheck(){let o=[];this.newProgramWorkouts.forEach(_=>_.segments.forEach(g=>{o.some(d=>d.exName===g.exerciseName)||o.push({exName:g.exerciseName,exType:g.exerciseType})})),console.log("allExercises",o);const i=o.reduce((_,g)=>(_.some(d=>d.exName===g.exName)||_.push(g),_),[]);let s=i.map(_=>_.exName),r=[];this.program.nextBlockJSON.exercises.forEach(_=>{r.push(_.name)});let a=s.filter(_=>r.indexOf(_)<0),c=r.filter(_=>s.indexOf(_)<0),u=[];a.length>0&&a.forEach(_=>{const g=i.find(d=>d.exName===_);u.push(g)}),(a.length>0||c.length>0)&&(a&&u.forEach(_=>{this.program.nextBlockJSON.exercises.push({name:_.exName,type:_.exType,show:!1,oneRm:!1,increaseWeight:"",increaseReps:"",currentOneRm:"",setOptions:""})}),c&&c.forEach(_=>{this.program.nextBlockJSON.exercises.forEach((g,d)=>{g.name===_&&this.program.nextBlockJSON.exercises.splice(d,1)})})),this.program.initialExercisesJSON.exercises.forEach(_=>{this.program.nextBlockJSON.exercises.forEach((g,d)=>{1==g.oneRm&&(this.program.initialExercisesJSON.exercises.some(m=>m.exerciseName==g.name)||(this.program.nextBlockJSON.exercises[d].oneRm=!1)),_.exerciseName==g.name&&0==g.oneRm&&(this.program.nextBlockJSON.exercises[d].currentOneRm=_.startingWeight,this.program.nextBlockJSON.exercises[d].oneRm=!0)})}),this.program.nextBlockJSON.exercises.sort((_,g)=>_.type>g.type?1:-1),this.program.nextBlockJSON.exercises.sort(({oneRm:_=!1},{oneRm:g=!1})=>Number(g)-Number(_)),a=[],c=[],this.nextBlockModal(!1)}nextBlockModal(o){}nextBlock(){this.updateProgramOverviewJSON(),this.nextBlockPreChecks(),this.programService.postNewRoutineWorkoutsArray(this.newProgramWorkouts).subscribe(o=>{console.log("Elapsed time",o),this.programService.updateUserSettingsRoutineId(this.program.id,!1,this.userSettings.totalWorkouts,0,this.userSettings.id),this.updateNextRoutineBlock()},o=>{console.log("Error"),console.error(o)})}updateNextRoutineBlock(){let o={meso:1,block:this.program.block+1,week:2,exerciseJSONstring:JSON.stringify(this.program.initialExercisesJSON),nextBlockJSONstring:JSON.stringify(this.program.nextBlockJSON)};this.programService.updateRoutineBlock(this.program.id,o)}nextBlockPreChecks(){let o=[],i=[],s=!1;for(var r of(this.program.workouts.forEach(_=>{this.program.runMeso&&_.meso===this.program.currentMesoCycle&&_.block===this.program.block&&(_.deload&&(s=!0,i.push(_.date)),!_.deload&&_.week==this.program.weeks&&o.push(_.date)),this.program.runMeso||_.block===this.program.block&&(_.deload&&this.program.mesocycle==this.program.currentMesoCycle&&(s=!0,i.push(_.date)),!_.deload&&_.week==this.program.weeks&&this.program.mesocycle==this.program.currentMesoCycle&&o.push(_.date))}),this.newProgramWorkouts)){let _;r.segments.sort((d,m)=>d.name-m.name),r.segments.forEach(function(d){d.sets.sort((m,h)=>m.name-h.name)}),_=s?i.map(d=>new Date(d)):o.map(d=>new Date(d));const g=new Date(Math.min.apply(null,_.map(d=>d.getTime())));for(var a of(g.setDate(g.getDate()+(r.day-1+7)),console.log(g),console.log(r.date),r.date=g,this.program.runMeso&&(r.meso=1),r.completed=!1,r.baseWorkout=!0,r.block=this.program.block+1,r.week=1,r.userId=this.userSettings.userId,r.routineId=this.userSettings.routineId,r.routineId=+r.routineId,r.totalWeight="0",r.totalSets="0",r.totalReps="0",r.totalTime="00:00:00",delete r.id,r.segments))for(var c of(a.name=+a.name,delete a.id,a.sets)){c.name=+c.name,delete c.id,c.success=!1;try{let d,m,h,w,Z=this.program.nextBlockJSON.exercises.findIndex(v=>v.name==a.exerciseName);if(h=this.program.nextBlockJSON.exercises[Z],d=h.increaseWeight,m=h.increaseReps,h.oneRm){let v=this.program.initialExercisesJSON.exercises.findIndex(k=>k.exerciseName==a.exerciseName);if(!0===this.program.initialExercisesJSON.perctBool&&(w=parseFloat(h.currentOneRm)+parseFloat(d),this.program.initialExercisesJSON.exercises[v].perctWeight=w),!1===this.program.initialExercisesJSON.perctBool&&(w=parseFloat(h.currentOneRm)+parseFloat(d),this.program.initialExercisesJSON.exercises[v].currentWeight=w),!0===this.program.initialExercisesJSON.perctBool)var u=w*(c.rm/100);!1===this.program.initialExercisesJSON.perctBool&&(u=w*(c.rm/100),console.log(u));let x=this.roundToNearest(u,this.program.rounding);if(c.weight=x.toString(),m){let k=parseFloat(c.reps)+parseFloat(m);isNaN(k)?console.log("nan",k,"set.reps",c.reps,"new increment reps",m):c.reps=k.toString()}}else{if(d){let v=parseFloat(c.weight)+parseFloat(d);isNaN(v)?console.log("nan",v,"set.weight",c.weight,"new weight",d):c.weight=v.toString()}if(m){let v=parseFloat(c.reps)+parseFloat(m);isNaN(v)?console.log("nan",v,"set.reps",c.reps,"new Reps",m):c.reps=v.toString()}}}catch(d){console.error(d)}}}console.log("Pre checks done")}updateProperties(){let i,s=0;for(var r of this.newProgramWorkouts){r.segments.sort((d,m)=>d.name-m.name),r.segments.forEach(function(d){d.sets.sort((m,h)=>m.name-h.name)}),delete r.id,r.day=r.day+7;const _=new Date(r.date);let g;for(var a of(_.setHours(0,0,0,0),_.setDate(_.getDate()+8),r.date=_,r.userId=this.userSettings.userId,r.routineId=this.userSettings.routineId,r.week=r.week+1,r.baseWorkout=!1,r.completed=!1,r.routineId=+r.routineId,r.totalWeight="0",r.totalSets="0",r.totalReps="0",r.totalTime="00:00:00",r.rules&&(g=JSON.parse(r.rules)),r.segments))for(var c of(delete a.id,s=0,a.name=+a.name,a.sets)){if(delete c.id,c.name=+c.name,c.success=!1,c.previousReps=c.reps,c.previousWeight=c.weight,c.setRules){let d=JSON.parse(c.setRules),m=g.topSet.find(Z=>Z.name==d.type);c.reps=m.repRanges.start;let h=parseFloat(c.weight)+parseFloat(d.increaseWeight),w=this.roundToNearest(h,this.program.rounding);c.weight=w.toString()}for(var u=0;u<15;u++)this.program.multipliersJSON&&this.program.multipliersJSON.forEach(d=>{if(0!==d.setMultipliers.length&&c.name==u+1&&c.type==d.type){let v=this.program.multipliersJSON.find(x=>x.type===c.type);i=c.type;try{c.type!=i&&(s=0);var m=v.setMultipliers.find(x=>parseFloat(x.name)===r.week).reps[s],h=v.setMultipliers.find(x=>parseFloat(x.name)===r.week).weights[s],w=v.setMultipliers.find(x=>parseFloat(x.name)===r.week).oneRms[s];s+=1}catch{}if(m)if(isNaN(m))console.log(m),c.reps=m;else{let x=parseFloat(c.reps)+parseFloat(m);c.reps=x.toString()}if(h){let x=parseFloat(c.weight)+parseFloat(h),k=this.roundToNearest(x,this.program.rounding);c.weight=k.toString()}w&&(c.rm=parseFloat(w));try{if("1RM"===c.type){let x,k;if(1==this.program.block&&(k=this.program.initialExercisesJSON.exercises.find(S=>S.exerciseName===a.exerciseName)),this.program.block>1&&(console.log(this.program.nextBlockJSON),k=this.program.nextBlockJSON.exercises.find(S=>S.name===a.exerciseName),console.log("past block one",k)),!0===this.program.initialExercisesJSON.perctBool&&(x=this.program.block>1?k.currentOneRm:k.perctWeight),!1===this.program.initialExercisesJSON.perctBool&&(x=this.program.block>1?k.currentOneRm:k.startingWeight,console.log("Set weight",x)),x){var Z=parseFloat(x)*(c.rm/100);let S=this.roundToNearest(Z,this.program.rounding);c.weight=S.toString()}x||console.log("No SetWeight")}"AMAP"===c.reps&&(c.showPrev=!0)}catch(x){console.error(x)}}})}}}roundToNearest(o,i){return Math.round(o/i)*i}sortWorkouts(){this.sortedWorkouts=[];var o=[];if(this.program.runMeso){for(var i=0;i<this.program.block;i++){let u={id:i+1,name:"Block "+(i+1).toString(),show:!1,mesocycles:[]};u.id==this.program.block&&(u.show=!0),o.push(u);for(var s=0;s<this.program.mesocycle;s++){let _={id:s+1,name:"Mesocycle "+(s+1).toString(),show:!1,weeks:[]};o[i].mesocycles.push(_);for(var r=0;r<this.program.weeks+1;r++){let g={id:r+1,name:"Week "+(r+1).toString(),block:(i+1).toString(),show:!1,deload:!1,workouts:[]};r==this.program.weeks&&(g.deload=!0,g.name="Week "+(r+1)+" Deload Week".toString()),o[i].mesocycles[s].weeks.push(g)}}}for(var a=0;a<this.program.workouts.length;a++){var c=this.program.workouts[a];o.forEach(u=>{u.mesocycles.forEach(_=>{_.weeks.forEach(g=>{if(g.id==c.week&&g.block==c.block&&c.meso==_.id)try{g.workouts.push(c)}catch{console.log("error")}})})})}o.forEach(u=>{u.mesocycles.forEach(_=>{_.weeks.forEach(g=>{g.workouts.sort((d,m)=>d.day-m.day)})})}),o[this.program.block-1].show=!0,o[this.program.block-1].mesocycles[this.program.currentMesoCycle-1].show=!0,this.sortedWorkouts=o,this.workoutLengthNumber=o[0].mesocycles[0].weeks[0].workouts.length}if(!this.program.runMeso){for(console.log("not run meso",this.program.weeks),i=0;i<this.program.block;i++){let _={id:i+1,name:"Block "+(i+1).toString(),show:!1,weeks:[]};for(o.push(_),s=0;s<this.program.weeks+1;s++){let d={id:s+1,name:"Week "+(s+1).toString(),block:(i+1).toString(),show:!1,deload:!1,workouts:[]};s==this.program.weeks&&(d.deload=!0,d.name="Week "+(s+1)+" Deload Week".toString()),o[i].weeks.push(d)}for(a=0;a<this.program.workouts.length;a++)c=this.program.workouts[a],o.forEach(m=>{m.weeks.forEach(h=>{if(h.id==c.week&&h.block==c.block&&"Deload"!=c.type)try{h.workouts.push(c)}catch{console.log("error")}})})}o.forEach(u=>{u.weeks.forEach(function(_){_.workouts.sort((g,d)=>g.day-d.day)})}),o[this.program.block-1].show=!0,this.sortedWorkouts=o,this.workoutLengthNumber=o[0].weeks[0].workouts.length}this.isLoading=!1}showBlocks(o){this.sortedWorkouts[o].show=!this.sortedWorkouts[o].show}showMesos(o,i){this.sortedWorkouts[o].mesocycles[i].show=!this.sortedWorkouts[o].mesocycles[i].show}showWorkouts(o,i){this.sortedWorkouts[o].weeks.forEach(s=>{s.show=!1}),this.sortedWorkouts[o].weeks[i].show=!this.sortedWorkouts[o].weeks[i].show}showMesoWorkouts(o,i,s){this.sortedWorkouts[o].mesocycles[i].weeks.forEach(r=>{r.show=!1}),this.sortedWorkouts[o].mesocycles[i].weeks[s].show=!this.sortedWorkouts[o].mesocycles[i].weeks[s].show}showDeloadWorkouts(o,i){console.log(i,this.sortedWorkouts[i].show),this.sortedWorkouts[o].deload[i].show=!this.sortedWorkouts[o].deload[i].show}editWorkout(o){let i={relativeTo:this.route,queryParams:{workoutId:o,isEditing:!0,finishedProgram:!0}};this.router.navigate(["../new-workout"],i).catch(s=>{this.router.navigate(["../workout/new-workout"],i)})}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(R.p),e.Y36(M.F0),e.Y36(J.K),e.Y36(M.gz),e.Y36(O.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-current-routine"]],inputs:{parentData:"parentData"},decls:1,vars:1,consts:[[3,"page",4,"ngIf"],[4,"ngIf"],[1,"grid-layout",2,"display","grid","grid-template-rows","1fr","grid-template-columns","1fr 50px"],[1,"h3",2,"grid-row","1","grid-column","1 / span 2","text-align","center",3,"click"],[2,"grid-row","1","grid-column","2",3,"click"],[1,"fas","fa-arrow-down"],[1,"block-grid",2,"display","grid","grid-template-rows","1fr 1fr","grid-template-columns","1fr 1fr"],[1,"week-label",2,"grid-row","1","grid-column","1","margin","10px",3,"click"],[1,"week-label",2,"grid-row","1","grid-column","2","margin","10px",3,"click"],[1,"week-label",2,"grid-row","2","grid-column","1","margin","10px",3,"disabled","click"],[1,"week-label",2,"grid-row","2","grid-column","2","margin","10px",3,"click"],[1,"block-grid",2,"display","grid","grid-template-rows","1fr 1fr 1fr 1fr","grid-template-columns","1fr 1fr"],[1,"heading-2",2,"grid-row","1","grid-column","1","margin","10px"],[1,"heading-1",2,"grid-row","2","grid-column","1","margin","10px"],[1,"heading-1-text",2,"grid-row","2","grid-column","2","margin","10px"],[1,"heading-1",2,"grid-row","3","grid-column","1","margin","10px"],[1,"heading-1-text",2,"grid-row","3","grid-column","2","margin","10px"],[1,"heading-1",2,"grid-row","4","grid-column","1","margin","10px"],[1,"heading-1-text",2,"grid-row","4","grid-column","2","margin","10px"],["class","button",3,"click",4,"ngIf"],[1,"button",3,"click"],["class","grid-container",4,"ngFor","ngForOf"],[1,"grid-container"],[2,"display","grid","grid-template-rows","1fr","grid-template-columns","1fr 50px",3,"click"],[1,"h2",2,"grid-row","1","grid-column","1"],["style","grid-row: 1; grid-column: 2;",3,"click",4,"ngIf"],["class","block-grid",4,"ngIf"],[1,"fas","fa-arrow-left"],[1,"block-grid"],[4,"ngFor","ngForOf"],["class","flex",4,"ngIf"],[1,"flex"],["class","flex",4,"ngFor","ngForOf"],[3,"ngClass","disabled","click",4,"ngIf"],[3,"ngClass","disabled","click"],["style","display: grid; grid-template-rows: 1fr 0.5fr 0.5fr 0.5fr; grid-template-columns: 1fr 50px",3,"ngClass",4,"ngFor","ngForOf"],[2,"display","grid","grid-template-rows","1fr 0.5fr 0.5fr 0.5fr","grid-template-columns","1fr 50px",3,"ngClass"],[1,"h5",2,"grid-row","1","grid-column","1"],[2,"grid-row","2 / span 4","grid-column","2"],[1,"fas","fa-chevron-right"],[1,"h7",2,"grid-row","2","grid-column","1",3,"textContent"],[1,"h7",2,"grid-row","3","grid-column","1",3,"textContent"],["style","grid-row: 4; grid-column: 1;","class","h7",4,"ngIf"],[1,"h7",2,"grid-row","4","grid-column","1"],["class","grid-layout",4,"ngFor","ngForOf"],[1,"grid-layout"],[1,"h2"],["class","fas",3,"ngClass","click",4,"ngIf"],[1,"fas",3,"ngClass","click"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"h3"],[1,"paragraph"],["class","paragraph",4,"ngIf"],[1,"fas",3,"ngClass"]],template:function(o,i){1&o&&e.YNc(0,ao,2,3,"div",0),2&o&&e.Q6J("ngIf",!i.isLoading)},dependencies:[f.mk,f.sg,f.O5,f.uU]}),l})(),po=(()=>{var n;class l{constructor(o,i){this.route=o,this.router=i}ngOnInit(){}onNewWorkout(){this.router.navigate(["new-workout"],{relativeTo:this.route,queryParams:{newWorkout:!0}})}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(M.gz),e.Y36(M.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-workout"]],decls:2,vars:0,consts:[[1,"button",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.onNewWorkout()}),e._uU(1,"Start a workout"),e.qZA())},encapsulation:2}),l})();function uo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeGraphData("totalReps"))}),e._uU(2,"Total Reps"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeGraphData("totalWeight"))}),e._uU(4,"Total Weight"),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeGraphData("totalSets"))}),e._uU(6,"Total Sets"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.ekj("week-label-selected","totalReps"===t.graphType),e.xp6(2),e.ekj("week-label-selected","totalWeight"===t.graphType),e.xp6(2),e.ekj("week-label-selected","totalSets"===t.graphType)}}const W=function(n,l){return{positive:n,negative:l}};function go(n,l){if(1&n&&(e.TgZ(0,"tr",13)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",14),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",14),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",14),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td",14),e._uU(18),e.qZA()()),2&n){const t=l.$implicit,o=e.oxw(4);e.xp6(2),e.Oqu(t.week),e.xp6(2),e.AsE("",t.totalWeight," ",o.userSettings.kgs?"Kgs":"lbs",""),e.xp6(1),e.Q6J("ngClass",e.WLB(14,W,t.weightIncrease>0,t.weightIncrease<0)),e.xp6(1),e.hij("",t.weightIncrease,"%"),e.xp6(2),e.Oqu(t.totalReps),e.xp6(1),e.Q6J("ngClass",e.WLB(17,W,t.repsIncrease>0,t.repsIncrease<0)),e.xp6(1),e.hij("",t.repsIncrease,"%"),e.xp6(2),e.Oqu(t.totalSets),e.xp6(1),e.Q6J("ngClass",e.WLB(20,W,t.setsIncrease>0,t.setsIncrease<0)),e.xp6(1),e.hij("",t.setsIncrease,"%"),e.xp6(2),e.Oqu(t.totalTime),e.xp6(1),e.Q6J("ngClass",e.WLB(23,W,t.timeIncrease>0,t.timeIncrease<0)),e.xp6(1),e.hij("",t.timeIncrease,"%")}}function mo(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"h2",8),e._uU(2),e.qZA(),e.TgZ(3,"div",9)(4,"table",10)(5,"thead")(6,"tr")(7,"th",11),e._uU(8,"Week"),e.qZA(),e.TgZ(9,"th",11),e._uU(10,"Total Weight"),e.qZA(),e.TgZ(11,"th",11),e._uU(12,"Weight Increase (%)"),e.qZA(),e.TgZ(13,"th",11),e._uU(14,"Total Reps"),e.qZA(),e.TgZ(15,"th",11),e._uU(16,"Reps Increase (%)"),e.qZA(),e.TgZ(17,"th",11),e._uU(18,"Total Sets"),e.qZA(),e.TgZ(19,"th",11),e._uU(20,"Sets Increase (%)"),e.qZA(),e.TgZ(21,"th",11),e._uU(22,"Total Time"),e.qZA(),e.TgZ(23,"th",11),e._uU(24,"Time Increase (%)"),e.qZA()()(),e.TgZ(25,"tbody"),e.YNc(26,go,19,26,"tr",12),e.qZA()()(),e.BQk()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.workoutname),e.xp6(24),e.Q6J("ngForOf",t.weeks)}}function ho(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,mo,27,2,"ng-container",6),e.TgZ(2,"div",7)(3,"p"),e._uU(4,"Notes:"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"The percentage increases ignore deload weeks and are calculated to the week previous to the deload week."),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.workoutTableData)}}function vo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"button",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeGraphOptions("totals"))}),e._uU(3,"Totals"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeGraphOptions("workouts"))}),e._uU(5,"Workouts"),e.qZA()(),e.YNc(6,uo,7,6,"div",4),e.YNc(7,ho,7,1,"div",5),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.ekj("week-label-selected","totals"===t.graphOptions),e.xp6(2),e.ekj("week-label-selected","workouts"===t.graphOptions),e.xp6(2),e.Q6J("ngIf","totals"===t.graphOptions),e.xp6(1),e.Q6J("ngIf","workouts"===t.graphOptions)}}let xo=(()=>{var n;class l{constructor(o,i){this.userService=o,this.routineService=i,this.isLoading=!0,this.graphOptions="workouts",this.graphYAxis="Reps",this.graphTitle="Total Reps",this.graphType="totalReps",this.workoutTableData=[]}ngOnInit(){this.userService.currentUser.subscribe(o=>{this.userSettings=o,setTimeout(()=>{this.getProgramOverview()},2e3)})}getProgramOverview(){this.graphData=this.routineService.graphData(),this.workoutTable(),this.isLoading=!1;const o=this.graphData.reduce((s,r)=>{const a=`week_${r.workoutWeek}_block_${r.workoutBlock}_meso_${r.workoutMeso}`,c=s.findIndex(u=>u.key===a);return c>=0?(s[c].totalReps+=parseFloat(r.totalReps),s[c].totalTime=this.addTimes(s[c].totalTime,r.totalTime),s[c].totalWeight+=parseFloat(r.totalWeight),s[c].totalSets+=parseInt(r.totalSets)):s.push({key:a,totalReps:parseFloat(r.totalReps),totalTime:r.totalTime,totalWeight:parseFloat(r.totalWeight),totalSets:parseInt(r.totalSets)}),s},[]);this.graphTotals=o;const i=this.graphType;this.currentGraphData=this.graphTotals.map((s,r)=>({index:r+1,value:parseFloat(s[i])}))}changeGraphOptions(o){"totals"==o&&(this.graphOptions="totals"),"workouts"==o&&(this.graphOptions="workouts")}workoutTable(){this.workoutTableData=[];const o=this.graphData.reduce((i,s)=>{const r=i.find(a=>a.workoutname===s.workoutName);return r?(r.deload.push(s.workoutDeload),r.totalTime.push(s.totalTime),r.totalWeight.push(s.totalWeight),r.totalSets.push(s.totalSets),r.totalReps.push(s.totalReps)):i.push({workoutname:s.workoutName,deload:[s.workoutDeload],totalTime:[s.totalTime],totalWeight:[s.totalWeight],totalSets:[s.totalSets],totalReps:[s.totalReps]}),i},[]);this.workoutGraphData=o,o.forEach((i,s)=>{let r={workoutname:i.workoutname,weeks:[]},a=0,c=0,u=0,_=0;i.totalTime.forEach((g,d)=>{const m=parseFloat(i.totalWeight[d]),h=parseFloat(i.totalSets[d]),w=parseFloat(i.totalReps[d]),Z=0===d?"-":((this.timeToSeconds(g)-this.timeToSeconds(a))/this.timeToSeconds(a)*100).toFixed(2),v=0===d?"-":((m-c)/c*100).toFixed(2),x=0===d?"-":((h-u)/u*100).toFixed(2),k=0===d?"-":((w-_)/_*100).toFixed(2);r.weeks.push({week:d+1+(o[s].deload[d]?" Deload":""),totalTime:g,totalWeight:m,totalSets:h,totalReps:w,timeIncrease:Z,weightIncrease:v,setsIncrease:x,repsIncrease:k}),a=g,c=o[s].deload[d]?c:m,u=h,_=w}),this.workoutTableData.push(r)})}rowsDefinition(){const o=this.workoutTableData.reduce((i,s)=>i+s.weeks.length+2,0);return Array(o).fill("*").join(", ")}getRows(o){return new Array(o.weeks.length+1).fill("*").join(",")}timeToSeconds(o){const[i,s,r]=o.split(":").map(Number);return 3600*i+60*s+r}changeGraphData(o){this.graphType=o,this.graphTitle={totalTime:"Total Time",totalSets:"Total Sets",totalWeight:"Total Weight",totalReps:"Total Reps"}[o],this.graphYAxis={totalTime:"Time",totalSets:"Sets",totalWeight:"Weight ("+(this.userSettings.kgs?"Kgs":"lbs")+")",totalReps:"Reps"}[o],console.log(o);const r=this.graphType;this.currentGraphData=this.graphTotals.map((a,c)=>({index:c+1,value:parseFloat(a[r])})),console.log(this.currentGraphData)}addTimes(o,i){const s=o.split(":").map(Number),r=i.split(":").map(Number),u=3600*s[0]+60*s[1]+s[2]+(3600*r[0]+60*r[1]+r[2]),_=Math.floor(u/3600),g=Math.floor(u%3600/60),d=u%60;return[_.toString().padStart(2,"0"),g.toString().padStart(2,"0"),d.toString().padStart(2,"0")].join(":")}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(J.K),e.Y36(R.p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ns-graphs"]],decls:1,vars:1,consts:[["style","margin-top: 50px;",4,"ngIf"],[2,"margin-top","50px"],[1,"grid-container"],[1,"week-label",3,"click"],["class","grid-container",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"block-grid",2,"margin-top","20px"],[1,"heading"],[2,"overflow-x","auto"],[1,"block-grid",2,"margin","5px"],[1,"table-header"],["style","margin-top: 50px; text-align: center;",4,"ngFor","ngForOf"],[2,"margin-top","50px","text-align","center"],[3,"ngClass"]],template:function(o,i){1&o&&e.YNc(0,vo,8,6,"div",0),2&o&&e.Q6J("ngIf",i.graphData)},dependencies:[f.mk,f.sg,f.O5],encapsulation:2}),l})();function fo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"button",5),e.NdJ("click",function(){const s=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.changeScreen(s))}),e._uU(2),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(1),e.ekj("week-label-selected",t.selected),e.Q6J("disabled",!t.isEnabled),e.xp6(1),e.hij(" ",t.name," ")}}function ko(n,l){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-routine-check"),e.qZA())}function wo(n,l){1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-routine-check"),e.qZA())}function No(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ko,2,0,"div",0),e.YNc(2,wo,2,0,"div",0),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.userSettings.stillCreatingRoutine),e.xp6(1),e.Q6J("ngIf",!t.userSettings.stillCreatingRoutine)}}function bo(n,l){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._UZ(2,"img",6)(3,"app-workout"),e.qZA(),e.YNc(4,No,3,2,"div",0),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.userSettings)}}function Co(n,l){1&n&&e._UZ(0,"app-routine-check")}function Oo(n,l){1&n&&e._UZ(0,"ns-graphs")}function To(n,l){1&n&&e._UZ(0,"app-current-routine",7)}function Zo(n,l){1&n&&e._UZ(0,"app-set-up-routine")}function Jo(n,l){1&n&&e._UZ(0,"app-create-routine")}function Mo(n,l){if(1&n&&(e.TgZ(0,"div")(1,"div",1),e.YNc(2,fo,3,4,"div",2),e.qZA(),e.TgZ(3,"div"),e.YNc(4,bo,5,1,"div",0),e.YNc(5,Co,1,0,"app-routine-check",0),e.YNc(6,Oo,1,0,"ns-graphs",0),e.YNc(7,To,1,0,"app-current-routine",3),e.YNc(8,Zo,1,0,"app-set-up-routine",0),e.YNc(9,Jo,1,0,"app-create-routine",0),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.screensArr),e.xp6(2),e.Q6J("ngIf",t.screensArr[0].selected),e.xp6(1),e.Q6J("ngIf",t.screensArr[1].selected),e.xp6(1),e.Q6J("ngIf",t.screensArr[1].selected),e.xp6(1),e.Q6J("ngIf",t.screensArr[2].selected&&t.userSettings.routineId&&!t.userSettings.stillCreatingRoutine),e.xp6(1),e.Q6J("ngIf",t.screensArr[2].selected&&!t.userSettings.routineId&&t.userSettings.stillCreatingRoutine),e.xp6(1),e.Q6J("ngIf",t.screensArr[2].selected&&t.userSettings.routineId&&t.userSettings.stillCreatingRoutine)}}const Ro=[{path:"",component:(()=>{var n;class l{constructor(o,i,s){this.router=o,this.userService=i,this.homePageService=s,this.screensArr=[{name:"Home",isEnabled:!0,selected:!0},{name:"Dashboard",isEnabled:!1,selected:!1},{name:"Program",isEnabled:!1,selected:!1},{name:"History",isEnabled:!0,selected:!1},{name:"Diet",isEnabled:!1,selected:!1}]}ngOnInit(){this.userService.currentUser.subscribe(o=>{o?(this.userSettings=o,this.screensArr=[{name:"Home",isEnabled:!0,selected:!0},{name:"Dashboard",isEnabled:!this.userSettings.stillCreatingRoutine,selected:!1},{name:"Program",isEnabled:!this.userSettings.stillCreatingRoutine,selected:!1},{name:"History",isEnabled:!0,selected:!1},{name:"Diet",isEnabled:!1,selected:!1}],this.userSettings.routineId&&!this.userSettings.stillCreatingRoutine&&(this.screensArr=this.screensArr.map(i=>({...i,selected:!1})),this.screensArr[1].selected=!0),(!this.userSettings.routineId&&this.userSettings.stillCreatingRoutine||this.userSettings.routineId&&this.userSettings.stillCreatingRoutine)&&(this.screensArr.splice(2,1,{name:"Create",isEnabled:this.userSettings.stillCreatingRoutine,selected:!1}),this.changeViewFuction())):(this.router.navigateByUrl(""),localStorage.clear())}),this.changeView=this.homePageService.changeView.subscribe(o=>{this.changeView=o,setTimeout(()=>{this.changeViewFuction()},1e3)})}changeViewFuction(){"Create"===this.changeView&&(this.screensArr=this.screensArr.map(o=>({...o,selected:!1})),this.screensArr[2].selected=!0),"History"===this.changeView&&(this.screensArr=this.screensArr.map(o=>({...o,selected:!1})),this.screensArr[3].selected=!0),"Home"===this.changeView&&(this.screensArr=this.screensArr.map(o=>({...o,selected:!1})),this.screensArr[0].selected=!0)}changeScreen(o){this.screensArr=this.screensArr.map(i=>({...i,selected:!1})),this.screensArr[o].selected=!0}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(M.F0),e.Y36(J.K),e.Y36(q.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],["class","col",4,"ngFor","ngForOf"],["style","height: 100%;",4,"ngIf"],[1,"col"],[1,"week-label",3,"disabled","click"],["src","../../assets/gym/5-day-advanced.png","alt",""],[2,"height","100%"]],template:function(o,i){1&o&&e.YNc(0,Mo,10,7,"div",0),2&o&&e.Q6J("ngIf",i.userSettings)},dependencies:[y.A,H,P.l,_o,po,f.sg,f.O5,xo],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;background-color:#f1f1f1}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#1e90ff;color:#fff;width:100px;margin:10px;text-align:center;line-height:75px;font-size:10px}"]}),l})()}];let So=(()=>{var n;class l{}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[M.Bz.forChild(Ro),M.Bz]}),l})();var Wo=C(3772),Ao=C(7764);let qo=(()=>{var n;class l{}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Ao.RoutineModule,Wo.WorkoutModule,p.UX,So,p.u5,f.ez]}),l})()}}]);